



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
  <meta name="robots" content="noindex, nofollow" />

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://opensciencegrid.org/docs-itb/security/lcmaps-voms-authentication/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.3.0">
    
    
      
        <title>LCMAPS VOMS authentication - OSG Site Documentation (ITB)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/itb.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#installing-and-maintaining-the-lcmaps-voms-plugin" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://opensciencegrid.org/docs-itb/" title="OSG Site Documentation (ITB)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OSG Site Documentation (ITB)
              </span>
              <span class="md-header-nav__topic">
                LCMAPS VOMS authentication
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/opensciencegrid/docs-itb/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://opensciencegrid.org/docs-itb/" title="OSG Site Documentation (ITB)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    OSG Site Documentation (ITB)
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/opensciencegrid/docs-itb/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../detailed-overview/" title="Detailed Overview" class="md-nav__link">
      Detailed Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../site-planning/" title="Site Planning" class="md-nav__link">
      Site Planning
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Compute Element
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Compute Element
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/htcondor-ce-overview/" title="HTCondor-CE Overview" class="md-nav__link">
      HTCondor-CE Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/hosted-ce/" title="Request a Hosted CE" class="md-nav__link">
      Request a Hosted CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/install-htcondor-ce/" title="Install HTCondor-CE" class="md-nav__link">
      Install HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/job-router-recipes/" title="Job Router Recipes" class="md-nav__link">
      Job Router Recipes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/troubleshoot-htcondor-ce/" title="Troubleshooting HTCondor-CE" class="md-nav__link">
      Troubleshooting HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/submit-htcondor-ce/" title="Submitting to HTCondor-CE" class="md-nav__link">
      Submitting to HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/covid-19/" title="Supporting COVID-19 Research" class="md-nav__link">
      Supporting COVID-19 Research
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Worker Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Worker Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/using-wn/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn/" title="Install from RPM" class="md-nav__link">
      Install from RPM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn-tarball/" title="Install from Tarball" class="md-nav__link">
      Install from Tarball
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn-oasis/" title="Install from OASIS" class="md-nav__link">
      Install from OASIS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-cvmfs/" title="Install CVMFS" class="md-nav__link">
      Install CVMFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-singularity/" title="Install Singularity" class="md-nav__link">
      Install Singularity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/using-wn-containers/" title="Using WN Containers" class="md-nav__link">
      Using WN Containers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      HTTP & OASIS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        HTTP & OASIS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/frontier-squid/" title="Install Squid HTTP Cache" class="md-nav__link">
      Install Squid HTTP Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/update-oasis/" title="Update OASIS Shared Repo" class="md-nav__link">
      Update OASIS Shared Repo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/external-oasis-repos/" title="Install an OASIS Repo" class="md-nav__link">
      Install an OASIS Repo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      POSIX Storage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        POSIX Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/gridftp/" title="Install GridFTP Server" class="md-nav__link">
      Install GridFTP Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/load-balanced-gridftp/" title="Install Load Balanced GridFTP" class="md-nav__link">
      Install Load Balanced GridFTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      XRootD
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        XRootD
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/xrootd/overview/" title="XRootD Overview" class="md-nav__link">
      XRootD Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/xrootd/install-standalone/" title="Install XRootD Standalone" class="md-nav__link">
      Install XRootD Standalone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/xrootd/install-storage-element/" title="Install XRootD SE" class="md-nav__link">
      Install XRootD SE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/xrootd/xrootd-authorization/" title="Configure Authorization" class="md-nav__link">
      Configure Authorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/xrootd/install-client/" title="Using XRootD" class="md-nav__link">
      Using XRootD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/xrootd/install-cms-xcache/" title="Install CMS XCache" class="md-nav__link">
      Install CMS XCache
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      StashCache
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        StashCache
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/stashcache/overview/" title="StashCache Overview" class="md-nav__link">
      StashCache Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/stashcache/run-stashcache-container/" title="Running a Cache in a container" class="md-nav__link">
      Running a Cache in a container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/stashcache/run-stash-origin-container/" title="Running an Origin in a container" class="md-nav__link">
      Running an Origin in a container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/stashcache/install-cache/" title="Install a Cache" class="md-nav__link">
      Install a Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/stashcache/install-origin/" title="Install an Origin" class="md-nav__link">
      Install an Origin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/stashcache/vo-data/" title="Getting VO data into StashCache" class="md-nav__link">
      Getting VO data into StashCache
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      HDFS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        HDFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/hadoop-overview/" title="HDFS Overview" class="md-nav__link">
      HDFS Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/install-hadoop/" title="Install HDFS" class="md-nav__link">
      Install HDFS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Submit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Submit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1">
    
    <label class="md-nav__link" for="nav-7-1">
      Flocking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        Flocking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../submit/osg-flock/" title="Flock to OSG" class="md-nav__link">
      Flock to OSG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Security
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        LCMAPS VOMS authentication
      </label>
    
    <a href="./" title="LCMAPS VOMS authentication" class="md-nav__link md-nav__link--active">
      LCMAPS VOMS authentication
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-the-lcmaps-voms-plugin" title="Installing the LCMAPS VOMS Plugin" class="md-nav__link">
    Installing the LCMAPS VOMS Plugin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-lcmaps-voms-plugin" title="Configuring the LCMAPS VOMS Plugin" class="md-nav__link">
    Configuring the LCMAPS VOMS Plugin
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supporting-mapped-vos-and-users" title="Supporting mapped VOs and users" class="md-nav__link">
    Supporting mapped VOs and users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-configuration-settings" title="Applying configuration settings" class="md-nav__link">
    Applying configuration settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configuration" title="Optional configuration" class="md-nav__link">
    Optional configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mapping-vos" title="Mapping VOs" class="md-nav__link">
    Mapping VOs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-users" title="Mapping users" class="md-nav__link">
    Mapping users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banning-vos" title="Banning VOs" class="md-nav__link">
    Banning VOs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banning-users" title="Banning users" class="md-nav__link">
    Banning users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-using-all-fqans" title="Mapping using all FQANs" class="md-nav__link">
    Mapping using all FQANs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-lcmaps-voms-plugin" title="Using the LCMAPS VOMS Plugin" class="md-nav__link">
    Using the LCMAPS VOMS Plugin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-the-lcmaps-voms-plugin-vo-mappings" title="Validating the LCMAPS VOMS Plugin VO Mappings" class="md-nav__link">
    Validating the LCMAPS VOMS Plugin VO Mappings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-the-lcmaps-voms-plugin" title="Troubleshooting the LCMAPS VOMS Plugin" class="md-nav__link">
    Troubleshooting the LCMAPS VOMS Plugin
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#htcondor-ce-hosts" title="HTCondor-CE hosts" class="md-nav__link">
    HTCondor-CE hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xrootd-hosts" title="XRootD hosts" class="md-nav__link">
    XRootD hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp-hosts" title="GridFTP hosts" class="md-nav__link">
    GridFTP hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues" title="Common issues" class="md-nav__link">
    Common issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wrong-version-of-gridftp" title="Wrong version of GridFTP" class="md-nav__link">
    Wrong version of GridFTP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" title="Getting Help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" title="Reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-files" title="Configuration Files" class="md-nav__link">
    Configuration Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-configuration" title="Manual Configuration" class="md-nav__link">
    Manual Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-certs/" title="User Certificates" class="md-nav__link">
      User Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../certificate-management/" title="Certificate Management Reference" class="md-nav__link">
      Certificate Management Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Host Certificates
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        Host Certificates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../host-certs/" title="Host Certs" class="md-nav__link">
      Host Certs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../host-certs/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../host-certs/incommon/" title="Using InCommon" class="md-nav__link">
      Using InCommon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../host-certs/lets-encrypt/" title="Using Let's Encrypt" class="md-nav__link">
      Using Let's Encrypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../host-certs/digicert/" title="Using DigiCert" class="md-nav__link">
      Using DigiCert
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Common
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Common
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/ca/" title="CA Certificates" class="md-nav__link">
      CA Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/yum/" title="OSG Yum Repos" class="md-nav__link">
      OSG Yum Repos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/configuration-with-osg-configure/" title="Configuration with OSG-Configure" class="md-nav__link">
      Configuration with OSG-Configure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/registration/" title="Registration" class="md-nav__link">
      Registration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Other
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Other
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/gsissh/" title="Install GSI-enabled SSH" class="md-nav__link">
      Install GSI-enabled SSH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-gwms-frontend/" title="Install GlideinWMS Frontend" class="md-nav__link">
      Install GlideinWMS Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-cvmfs-stratum1/" title="Install a CVMFS Stratum 1" class="md-nav__link">
      Install a CVMFS Stratum 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/network-performance-toolkit/" title="Install the Network Performance Toolkit" class="md-nav__link">
      Install the Network Performance Toolkit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/troubleshooting-gratia/" title="Troubleshooting Gratia" class="md-nav__link">
      Troubleshooting Gratia
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/schedd-filebeats/" title="Install Transfer Log Filebeats" class="md-nav__link">
      Install Transfer Log Filebeats
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Release Information
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Release Information
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/notes/" title="Release Note Overview" class="md-nav__link">
      Release Note Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-2" type="checkbox" id="nav-11-2">
    
    <label class="md-nav__link" for="nav-11-2">
      3.5 Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-2">
        3.5 Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-20/" title="OSG Release 3.5.20" class="md-nav__link">
      OSG Release 3.5.20
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-19/" title="OSG Release 3.5.19" class="md-nav__link">
      OSG Release 3.5.19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-18/" title="OSG Release 3.5.18" class="md-nav__link">
      OSG Release 3.5.18
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-17/" title="OSG Release 3.5.17" class="md-nav__link">
      OSG Release 3.5.17
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-16/" title="OSG Release 3.5.16" class="md-nav__link">
      OSG Release 3.5.16
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-15-3/" title="OSG Release 3.5.15-3" class="md-nav__link">
      OSG Release 3.5.15-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-15-2/" title="OSG Release 3.5.15-2" class="md-nav__link">
      OSG Release 3.5.15-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-15/" title="OSG Release 3.5.15" class="md-nav__link">
      OSG Release 3.5.15
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-14/" title="OSG Release 3.5.14" class="md-nav__link">
      OSG Release 3.5.14
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-13/" title="OSG Release 3.5.13" class="md-nav__link">
      OSG Release 3.5.13
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-12/" title="OSG Release 3.5.12" class="md-nav__link">
      OSG Release 3.5.12
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-11/" title="OSG Release 3.5.11" class="md-nav__link">
      OSG Release 3.5.11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-10-2/" title="OSG Release 3.5.10-2" class="md-nav__link">
      OSG Release 3.5.10-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-10/" title="OSG Release 3.5.10" class="md-nav__link">
      OSG Release 3.5.10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-9/" title="OSG Release 3.5.9" class="md-nav__link">
      OSG Release 3.5.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8-4/" title="OSG Release 3.5.8-4" class="md-nav__link">
      OSG Release 3.5.8-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8-3/" title="OSG Release 3.5.8-3" class="md-nav__link">
      OSG Release 3.5.8-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8-2/" title="OSG Release 3.5.8-2" class="md-nav__link">
      OSG Release 3.5.8-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8/" title="OSG Release 3.5.8" class="md-nav__link">
      OSG Release 3.5.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-7/" title="OSG Release 3.5.7" class="md-nav__link">
      OSG Release 3.5.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-6/" title="OSG Release 3.5.6" class="md-nav__link">
      OSG Release 3.5.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-5/" title="OSG Release 3.5.5" class="md-nav__link">
      OSG Release 3.5.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-4/" title="OSG Release 3.5.4" class="md-nav__link">
      OSG Release 3.5.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-3/" title="OSG Release 3.5.3" class="md-nav__link">
      OSG Release 3.5.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-2/" title="OSG Release 3.5.2" class="md-nav__link">
      OSG Release 3.5.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-1/" title="OSG Release 3.5.1" class="md-nav__link">
      OSG Release 3.5.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-0/" title="OSG Release 3.5.0" class="md-nav__link">
      OSG Release 3.5.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-3" type="checkbox" id="nav-11-3">
    
    <label class="md-nav__link" for="nav-11-3">
      3.4 Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-3">
        3.4 Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-53/" title="OSG Release 3.4.53" class="md-nav__link">
      OSG Release 3.4.53
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-52/" title="OSG Release 3.4.52" class="md-nav__link">
      OSG Release 3.4.52
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-51/" title="OSG Release 3.4.51" class="md-nav__link">
      OSG Release 3.4.51
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-50/" title="OSG Release 3.4.50" class="md-nav__link">
      OSG Release 3.4.50
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-49-3/" title="OSG Release 3.4.49-3" class="md-nav__link">
      OSG Release 3.4.49-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-49-2/" title="OSG Release 3.4.49-2" class="md-nav__link">
      OSG Release 3.4.49-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-49/" title="OSG Release 3.4.49" class="md-nav__link">
      OSG Release 3.4.49
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-48/" title="OSG Release 3.4.48" class="md-nav__link">
      OSG Release 3.4.48
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-47/" title="OSG Release 3.4.47" class="md-nav__link">
      OSG Release 3.4.47
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-46/" title="OSG Release 3.4.46" class="md-nav__link">
      OSG Release 3.4.46
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-45/" title="OSG Release 3.4.45" class="md-nav__link">
      OSG Release 3.4.45
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-44-2/" title="OSG Release 3.4.44-2" class="md-nav__link">
      OSG Release 3.4.44-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-44/" title="OSG Release 3.4.44" class="md-nav__link">
      OSG Release 3.4.44
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-43/" title="OSG Release 3.4.43" class="md-nav__link">
      OSG Release 3.4.43
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42-4/" title="OSG Release 3.4.42-4" class="md-nav__link">
      OSG Release 3.4.42-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42-3/" title="OSG Release 3.4.42-3" class="md-nav__link">
      OSG Release 3.4.42-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42-2/" title="OSG Release 3.4.42-2" class="md-nav__link">
      OSG Release 3.4.42-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42/" title="OSG Release 3.4.42" class="md-nav__link">
      OSG Release 3.4.42
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-41/" title="OSG Release 3.4.41" class="md-nav__link">
      OSG Release 3.4.41
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-40/" title="OSG Release 3.4.40" class="md-nav__link">
      OSG Release 3.4.40
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-39/" title="OSG Release 3.4.39" class="md-nav__link">
      OSG Release 3.4.39
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-38/" title="OSG Release 3.4.38" class="md-nav__link">
      OSG Release 3.4.38
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-37/" title="OSG Release 3.4.37" class="md-nav__link">
      OSG Release 3.4.37
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-36/" title="OSG Release 3.4.36" class="md-nav__link">
      OSG Release 3.4.36
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-35/" title="OSG Release 3.4.35" class="md-nav__link">
      OSG Release 3.4.35
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-34/" title="OSG Release 3.4.34" class="md-nav__link">
      OSG Release 3.4.34
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-33/" title="OSG Release 3.4.33" class="md-nav__link">
      OSG Release 3.4.33
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-32/" title="OSG Release 3.4.32" class="md-nav__link">
      OSG Release 3.4.32
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-31-2/" title="OSG Release 3.4.31-2" class="md-nav__link">
      OSG Release 3.4.31-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-31/" title="OSG Release 3.4.31" class="md-nav__link">
      OSG Release 3.4.31
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-30-2/" title="OSG Release 3.4.30-2" class="md-nav__link">
      OSG Release 3.4.30-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-30/" title="OSG Release 3.4.30" class="md-nav__link">
      OSG Release 3.4.30
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-29-2/" title="OSG Release 3.4.29-2" class="md-nav__link">
      OSG Release 3.4.29-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-29/" title="OSG Release 3.4.29" class="md-nav__link">
      OSG Release 3.4.29
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-28-2/" title="OSG Release 3.4.28-2" class="md-nav__link">
      OSG Release 3.4.28-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-28/" title="OSG Release 3.4.28" class="md-nav__link">
      OSG Release 3.4.28
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-27-2/" title="OSG Release 3.4.27-2" class="md-nav__link">
      OSG Release 3.4.27-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-27/" title="OSG Release 3.4.27" class="md-nav__link">
      OSG Release 3.4.27
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-26-2/" title="OSG Release 3.4.26-2" class="md-nav__link">
      OSG Release 3.4.26-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-26/" title="OSG Release 3.4.26" class="md-nav__link">
      OSG Release 3.4.26
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-25/" title="OSG Release 3.4.25" class="md-nav__link">
      OSG Release 3.4.25
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-24-2/" title="OSG Release 3.4.24-2" class="md-nav__link">
      OSG Release 3.4.24-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-24/" title="OSG Release 3.4.24" class="md-nav__link">
      OSG Release 3.4.24
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-23/" title="OSG Release 3.4.23" class="md-nav__link">
      OSG Release 3.4.23
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-22-2/" title="OSG Release 3.4.22-2" class="md-nav__link">
      OSG Release 3.4.22-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-22/" title="OSG Release 3.4.22" class="md-nav__link">
      OSG Release 3.4.22
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-21/" title="OSG Release 3.4.21" class="md-nav__link">
      OSG Release 3.4.21
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-20/" title="OSG Release 3.4.20" class="md-nav__link">
      OSG Release 3.4.20
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-19/" title="OSG Release 3.4.19" class="md-nav__link">
      OSG Release 3.4.19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-18-2/" title="OSG Release 3.4.18-2" class="md-nav__link">
      OSG Release 3.4.18-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-18/" title="OSG Release 3.4.18" class="md-nav__link">
      OSG Release 3.4.18
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-17-3/" title="OSG Release 3.4.17-3" class="md-nav__link">
      OSG Release 3.4.17-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-17-2/" title="OSG Release 3.4.17-2" class="md-nav__link">
      OSG Release 3.4.17-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-17/" title="OSG Release 3.4.17" class="md-nav__link">
      OSG Release 3.4.17
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-16-2/" title="OSG Release 3.4.16-2" class="md-nav__link">
      OSG Release 3.4.16-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-16/" title="OSG Release 3.4.16" class="md-nav__link">
      OSG Release 3.4.16
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-15/" title="OSG Release 3.4.15" class="md-nav__link">
      OSG Release 3.4.15
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-14-2/" title="OSG Release 3.4.14-2" class="md-nav__link">
      OSG Release 3.4.14-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-14/" title="OSG Release 3.4.14" class="md-nav__link">
      OSG Release 3.4.14
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-13/" title="OSG Release 3.4.13" class="md-nav__link">
      OSG Release 3.4.13
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-12-3/" title="OSG Release 3.4.12-3" class="md-nav__link">
      OSG Release 3.4.12-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-12-2/" title="OSG Release 3.4.12-2" class="md-nav__link">
      OSG Release 3.4.12-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-12/" title="OSG Release 3.4.12" class="md-nav__link">
      OSG Release 3.4.12
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-11/" title="OSG Release 3.4.11" class="md-nav__link">
      OSG Release 3.4.11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-10/" title="OSG Release 3.4.10" class="md-nav__link">
      OSG Release 3.4.10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-9-2/" title="OSG Release 3.4.9-2" class="md-nav__link">
      OSG Release 3.4.9-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-9/" title="OSG Release 3.4.9" class="md-nav__link">
      OSG Release 3.4.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-8/" title="OSG Release 3.4.8" class="md-nav__link">
      OSG Release 3.4.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-7/" title="OSG Release 3.4.7" class="md-nav__link">
      OSG Release 3.4.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-6-2/" title="OSG Release 3.4.6-2" class="md-nav__link">
      OSG Release 3.4.6-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-6/" title="OSG Release 3.4.6" class="md-nav__link">
      OSG Release 3.4.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-4/" title="OSG Release 3.4.5-4" class="md-nav__link">
      OSG Release 3.4.5-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-3/" title="OSG Release 3.4.5-3" class="md-nav__link">
      OSG Release 3.4.5-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-2/" title="OSG Release 3.4.5-2" class="md-nav__link">
      OSG Release 3.4.5-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5/" title="OSG Release 3.4.5" class="md-nav__link">
      OSG Release 3.4.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4-3/" title="OSG Release 3.4.4-3" class="md-nav__link">
      OSG Release 3.4.4-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4-2/" title="OSG Release 3.4.4-2" class="md-nav__link">
      OSG Release 3.4.4-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4/" title="OSG Release 3.4.4" class="md-nav__link">
      OSG Release 3.4.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-3/" title="OSG Release 3.4.3" class="md-nav__link">
      OSG Release 3.4.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-2-2/" title="OSG Release 3.4.2-2" class="md-nav__link">
      OSG Release 3.4.2-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-2/" title="OSG Release 3.4.2" class="md-nav__link">
      OSG Release 3.4.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-1-2/" title="OSG Release 3.4.1-2" class="md-nav__link">
      OSG Release 3.4.1-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-1/" title="OSG Release 3.4.1" class="md-nav__link">
      OSG Release 3.4.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-0-2/" title="OSG Release 3.4.0-2" class="md-nav__link">
      OSG Release 3.4.0-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-0/" title="OSG Release 3.4.0" class="md-nav__link">
      OSG Release 3.4.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/release_series/" title="OSG Release Series" class="md-nav__link">
      OSG Release Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/supported_platforms/" title="Supported Platforms" class="md-nav__link">
      Supported Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/yum-basics/" title="Yum Basics" class="md-nav__link">
      Yum Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/signing/" title="RPM Signing" class="md-nav__link">
      RPM Signing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Deprecated
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Deprecated
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/install-rsv/" title="Install RSV" class="md-nav__link">
      Install RSV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/advanced-rsv-configuration/" title="Advanced RSV Configuration" class="md-nav__link">
      Advanced RSV Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/rsv-control/" title="Manage RSV via rsv-control" class="md-nav__link">
      Manage RSV via rsv-control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/install-rsv-gwms-tester/" title="RSV GlideinWMS Tester" class="md-nav__link">
      RSV GlideinWMS Tester
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../common/help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-the-lcmaps-voms-plugin" title="Installing the LCMAPS VOMS Plugin" class="md-nav__link">
    Installing the LCMAPS VOMS Plugin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-lcmaps-voms-plugin" title="Configuring the LCMAPS VOMS Plugin" class="md-nav__link">
    Configuring the LCMAPS VOMS Plugin
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supporting-mapped-vos-and-users" title="Supporting mapped VOs and users" class="md-nav__link">
    Supporting mapped VOs and users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-configuration-settings" title="Applying configuration settings" class="md-nav__link">
    Applying configuration settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configuration" title="Optional configuration" class="md-nav__link">
    Optional configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mapping-vos" title="Mapping VOs" class="md-nav__link">
    Mapping VOs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-users" title="Mapping users" class="md-nav__link">
    Mapping users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banning-vos" title="Banning VOs" class="md-nav__link">
    Banning VOs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banning-users" title="Banning users" class="md-nav__link">
    Banning users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-using-all-fqans" title="Mapping using all FQANs" class="md-nav__link">
    Mapping using all FQANs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-lcmaps-voms-plugin" title="Using the LCMAPS VOMS Plugin" class="md-nav__link">
    Using the LCMAPS VOMS Plugin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-the-lcmaps-voms-plugin-vo-mappings" title="Validating the LCMAPS VOMS Plugin VO Mappings" class="md-nav__link">
    Validating the LCMAPS VOMS Plugin VO Mappings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-the-lcmaps-voms-plugin" title="Troubleshooting the LCMAPS VOMS Plugin" class="md-nav__link">
    Troubleshooting the LCMAPS VOMS Plugin
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#htcondor-ce-hosts" title="HTCondor-CE hosts" class="md-nav__link">
    HTCondor-CE hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xrootd-hosts" title="XRootD hosts" class="md-nav__link">
    XRootD hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp-hosts" title="GridFTP hosts" class="md-nav__link">
    GridFTP hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues" title="Common issues" class="md-nav__link">
    Common issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wrong-version-of-gridftp" title="Wrong version of GridFTP" class="md-nav__link">
    Wrong version of GridFTP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" title="Getting Help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" title="Reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-files" title="Configuration Files" class="md-nav__link">
    Configuration Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-configuration" title="Manual Configuration" class="md-nav__link">
    Manual Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/docs-itb/edit/master/docs/security/lcmaps-voms-authentication.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="installing-and-maintaining-the-lcmaps-voms-plugin">Installing and Maintaining the LCMAPS VOMS Plugin<a class="headerlink" href="#installing-and-maintaining-the-lcmaps-voms-plugin" title="Permanent link">&para;</a></h1>
<p>LCMAPS is a software library used on <a href="../../compute-element/install-htcondor-ce/">HTCondor-CE</a>, <a href="../../data/gridftp/">GridFTP</a>, and
<a href="../../data/xrootd/install-storage-element/">XRootD</a> hosts for mapping grid certificates of incoming connections to specific
Unix accounts.
The LCMAPS VOMS plugin enables LCMAPS to make mapping decisions based on the VOMS attributes of grid certificates, e.g.
<code>/cms/Role=production/Capability=NULL</code>.</p>
<p>The OSG provides a default set of mappings from VOMS attributes to Unix accounts.
By configuring LCMAPS, you can override these mappings, including changing the Unix account that a VO is mapped to;
adding custom mappings for specific users and VOMS attributes; and/or banning specific users and VOMS attributes.</p>
<p>Use this page to learn how to install and configure the LCMAPS VOMS plugin to authenticate users to access your
resources on a per-VO basis.</p>
<h2 id="installing-the-lcmaps-voms-plugin">Installing the LCMAPS VOMS Plugin<a class="headerlink" href="#installing-the-lcmaps-voms-plugin" title="Permanent link">&para;</a></h2>
<p>To install the LCMAPS VOMS plugin, make sure that your host is up to date before installing the required packages:</p>
<ol>
<li>
<p>Clean yum cache:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum clean all --enablerepo<span class="o">=</span>*
</pre></div>


</li>
<li>
<p>Update software:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum update
</pre></div>


<p>This command will update <strong>all</strong> packages</p>
</li>
<li>
<p>Install <code>lcmaps</code>, the default mapfile, and the configuration tools:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum install lcmaps vo-client-lcmaps-voms osg-configure-misc
</pre></div>


</li>
</ol>
<h2 id="configuring-the-lcmaps-voms-plugin">Configuring the LCMAPS VOMS Plugin<a class="headerlink" href="#configuring-the-lcmaps-voms-plugin" title="Permanent link">&para;</a></h2>
<p>The following section describes the steps required to configure the LCMAPS VOMS plugin for authentication.
Additionally, there are <a href="#optional-configuration">optional configuration</a> instructions if you need to make changes to
the default mappings.</p>
<h3 id="supporting-mapped-vos-and-users">Supporting mapped VOs and users<a class="headerlink" href="#supporting-mapped-vos-and-users" title="Permanent link">&para;</a></h3>
<p>Ensure Unix accounts exist for each VO, VO role, VO group, or user you choose to support in the <a href="#configuration-files">mapfiles</a>:</p>
<ol>
<li>
<p>Consult the default VO mappings in <code>/usr/share/osg/voms-mapfile-default</code> to determine the mapped Unix account names.
    Each of the mapfiles has the following format:</p>
<div class="codehilite"><pre><span></span>&quot;&lt;VO, VO role, VO group or user&gt;&quot; &lt;Unix account&gt;
</pre></div>


</li>
<li>
<p>Create Unix accounts for each VO, VO role, VO group, and user that you wish to support.
    The full list of VOs is located in the <a href="https://github.com/opensciencegrid/topology/tree/master/virtual-organizations">OSG topology</a>.
    You are not expected to support all the VOs.
    If you would like to support opportunistic usage, we recommend creating the following Unix accounts:</p>
<table>
<thead>
<tr>
<th><strong>VO name</strong></th>
<th><strong>Unix account(s)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/GLOW.yaml">GLOW</a></td>
<td><code>glow</code></td>
</tr>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/OSG.yaml">OSG</a></td>
<td><code>osg</code></td>
</tr>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/ATLAS.yaml">ATLAS</a></td>
<td><code>usatlas3</code></td>
</tr>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/CMS.yaml">CMS</a></td>
<td><code>cmsuser</code></td>
</tr>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/Fermilab.yaml">Fermilab</a></td>
<td><code>fnalgrid</code></td>
</tr>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/HCC.yaml">HCC</a></td>
<td><code>hcc</code></td>
</tr>
<tr>
<td><a href="https://github.com/opensciencegrid/topology/blob/master/virtual-organizations/Gluex.yaml">Gluex</a></td>
<td><code>gluex</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Edit <code>/etc/osg/config.d/30-gip.ini</code> and specify the supported VOs per <a href="../../other/configuration-with-osg-configure/#subcluster-resource-entry">Subcluster or ResourceEntry section</a>:</p>
<div class="codehilite"><pre><span></span><span class="na">allowed_vos</span><span class="o">=</span><span class="s">&quot;VO1,VO2...&quot;</span>
</pre></div>


</li>
</ol>
<h3 id="applying-configuration-settings">Applying configuration settings<a class="headerlink" href="#applying-configuration-settings" title="Permanent link">&para;</a></h3>
<p>Making changes to the OSG configuration files in the <code>/etc/osg/config.d</code> directory does not apply those settings to
software automatically.
For the OSG settings, use the <a href="../../other/configuration-with-osg-configure/">osg-configure</a> tool to validate (to a limited
extent) and apply the settings to the relevant software components.
If instead you wish to manage the LCMAPS VOMS plugin configuration yourself, skip to the
<a href="#manual-configuration">manual configuration section</a>.</p>
<ol>
<li>
<p>Make all changes to <code>.ini</code> files in the <code>/etc/osg/config.d</code> directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This document only describes the critical settings for the LCMAPS VOMS plugin and related software.
You may need to configure other software that is installed on your host, too.</p>
</div>
</li>
<li>
<p>Validate the configuration settings:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> osg-configure -v
</pre></div>


</li>
<li>
<p>Once the validation command succeeds without errors, apply the configuration settings:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> osg-configure -c
</pre></div>


</li>
</ol>
<h3 id="optional-configuration">Optional configuration<a class="headerlink" href="#optional-configuration" title="Permanent link">&para;</a></h3>
<p>The following subsections contain information on mapping or banning users by their
certificates' Distinguished Names (DNs) or by their proxies' VOMS attributes.
Any optional configuration is to be performed after the installation and configuration sections above.</p>
<p>For a table of the configuration files and their order of evaluation, consult the <a href="#configuration-files">reference section</a>.</p>
<ul>
<li><a href="#mapping-vos">Mapping VOs</a></li>
<li><a href="#mapping-users">Mapping users</a></li>
<li><a href="#banning-vos">Banning VOs</a></li>
<li><a href="#banning-users">Banning users</a></li>
<li><a href="#mapping-using-all-fqans">Mapping using all FQANs</a></li>
</ul>
<h4 id="mapping-vos">Mapping VOs<a class="headerlink" href="#mapping-vos" title="Permanent link">&para;</a></h4>
<p>To map VOs, VO roles, or VO groups to Unix accounts based on their VOMS attributes, create <code>/etc/grid-security/voms-mapfile</code>.
An example of the format of a <code>voms-mapfile</code> follows:</p>
<div class="codehilite"><pre><span></span># map GLOW jobs in the chtc group to the &#39;glow1&#39; Unix account.
&quot;/GLOW/chtc/*&quot; glow1
# map GLOW jobs with the htpc role to the &#39;glow2&#39; Unix account.
&quot;/GLOW/Role=htpc/*&quot; glow2
# map other GLOW jobs to the &#39;glow&#39; Unix account.
&quot;/GLOW/*&quot; glow
</pre></div>


<p>Each non-commented line is a shell-style pattern which is compared against the user's VOMS attributes, and a Unix
account that the user will be mapped to if the pattern matches.
The patterns are compared in the order they are listed in. Therefore, more general patterns should be placed later in
the file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Unix account must exist for the user to be mapped.
If a VO's Unix account is missing, that VO will not be able to access your resources.</p>
<p>Additionally, if you map VOMS attributes to a non-existent user in <code>/etc/grid-security/voms-mapfile</code>,
<code>/usr/share/osg/voms-mapfile-default</code> will be considered next to find a mapping.
The best way to ban a VO is edit <code>/etc/grid-security/ban-voms-mapfile</code> as described in <a href="#banning-vos">Banning VOs</a>
below.
Do not edit <code>voms-mapfile-default</code> as your changes will be overwritten upon updates.</p>
</div>
<h4 id="mapping-users">Mapping users<a class="headerlink" href="#mapping-users" title="Permanent link">&para;</a></h4>
<p>To map specific users to Unix accounts based on their certificates' DNs, create <code>/etc/grid-security/grid-mapfile</code>.
An example of the format of a <code>grid-mapfile</code> follows:</p>
<div class="codehilite"><pre><span></span># map Matyas&#39;s FNAL DN to the &#39;matyas&#39; Unix account
&quot;/DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Matyas Selmeci/CN=UID:matyas&quot; matyas
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Unix account must exist for the user to be mapped. If a user's Unix account is missing, that user will not be
able to access your resources.</p>
</div>
<h4 id="banning-vos">Banning VOs<a class="headerlink" href="#banning-vos" title="Permanent link">&para;</a></h4>
<p><code>/etc/grid-security/ban-voms-mapfile</code> is used to ban an entire VO or a role withing a VO from accessing resources on
your machine.
An example of the format of a <code>ban-voms-mapfile</code> follows:</p>
<div class="codehilite"><pre><span></span># ban CMS production jobs
&quot;/cms/Role=production/*&quot;
</pre></div>


<p>Each non-commented line is a shell-style pattern which is compared against a user's VOMS attributes.
If the pattern matches, that user will be unable to access your resources.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>When banning VOs, you must restart the services using LCMAPS VOMS authentication (e.g. <code>condor-ce</code>,
<code>globus-gridftp-server</code>, etc.) to clear any authentication caches.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>/etc/grid-security/ban-voms-mapfile</code> <em>must</em> exist, even if you are not banning any VOs.
In that case, the file should not contain any entries. If the file does not exist, LCMAPS will ban every user.</p>
</div>
<h4 id="banning-users">Banning users<a class="headerlink" href="#banning-users" title="Permanent link">&para;</a></h4>
<p><code>/etc/grid-security/ban-mapfile</code> is used to ban specific users from accessing your resources based on their
certificates' DNs. An example of the format of a <code>ban-mapfile</code> follows:</p>
<div class="codehilite"><pre><span></span># ban Matyas&#39;s FNAL DN
&quot;/DC=gov/DC=fnal/O=Fermilab/OU=People/CN=Matyas Selmeci/CN=UID:matyas&quot;
</pre></div>


<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>When banning users, you must restart the services using LCMAPS VOMS authentication (e.g. <code>condor-ce</code>,
<code>globus-gridftp-server</code>, etc.) to clear any authentication caches.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>/etc/grid-security/ban-mapfile</code> <em>must</em> exist, even if you are not banning any users.
In that case, the file should be blank. If the file does not exist, LCMAPS will ban every user.</p>
</div>
<h3 id="mapping-using-all-fqans">Mapping using all FQANs<a class="headerlink" href="#mapping-using-all-fqans" title="Permanent link">&para;</a></h3>
<p>By default, the LCMAPS VOMS plugin only considers the first FQAN of a VOMS proxy for mapping.
If you want to consider all FQANs, you must set the appropriate option.</p>
<ul>
<li>
<p>If you are using osg-configure, set <code>all_fqans = True</code> in <code>10-misc.ini</code>, then run <code>osg-configure -c</code></p>
</li>
<li>
<p>If you are configuring <code>lcmaps.db</code> manually (see <a href="#manual-configuration">manual configuration</a> below),
    add <code>"-all-fqans"</code> to the module definitions for <code>vomsmapfile</code> and <code>defaultmapfile</code></p>
</li>
</ul>
<h2 id="using-the-lcmaps-voms-plugin">Using the LCMAPS VOMS Plugin<a class="headerlink" href="#using-the-lcmaps-voms-plugin" title="Permanent link">&para;</a></h2>
<p>LCMAPS is a software library that is called for authentication;
therefore, there are no running services and it does not have to be invoked manually.</p>
<h2 id="validating-the-lcmaps-voms-plugin-vo-mappings">Validating the LCMAPS VOMS Plugin VO Mappings<a class="headerlink" href="#validating-the-lcmaps-voms-plugin-vo-mappings" title="Permanent link">&para;</a></h2>
<p>To validate the LCMAPS VOMS plugin by itself, use the following procedure to test mapping your own cert to a user:</p>
<ol>
<li>Verify your DN is <em>not</em> in <code>/etc/grid-security/grid-mapfile</code>, or else it will generate a false positive</li>
<li>Verify your DN is <em>not</em> in <code>/etc/grid-security/ban-mapfile</code>, or else it will generate a false negative</li>
<li>
<p>Install the <code>llrun</code> and <code>voms-clients</code> packages:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum install llrun voms-clients
</pre></div>


</li>
<li>
<p>As an unprivileged user, create a VOMS proxy (filling in <code>&lt;YOUR_VO&gt;</code> with a VO you are a member of):</p>
<div class="codehilite"><pre><span></span><span class="gp">user@host $</span> voms-proxy-init -voms &lt;YOUR_VO&gt;
</pre></div>


</li>
<li>
<p>Verify that your credentials are mapped as expected:</p>
<div class="codehilite"><pre><span></span><span class="gp">user@host $</span> llrun -s -l <span class="nv">mode</span><span class="o">=</span>pem,policy<span class="o">=</span>authorize_only,db<span class="o">=</span>/etc/lcmaps.db <span class="se">\</span>
    -p/tmp/x509up_u<span class="sb">`</span>id -u<span class="sb">`</span>
</pre></div>


</li>
</ol>
<p>If you did not get correctly mapped, check your proxy's FQAN by running:</p>
<div class="codehilite"><pre><span></span><span class="gp">user@host $</span> voms-proxy-info -fqan
</pre></div>


<p>and make sure it matches one of the patterns in <code>/etc/grid-security/voms-mapfile</code> or
<code>/usr/share/osg/voms-mapfile-default</code>, and does not match any patterns in <code>/etc/grid-security/ban-voms-mapfile</code>.</p>
<h2 id="troubleshooting-the-lcmaps-voms-plugin">Troubleshooting the LCMAPS VOMS Plugin<a class="headerlink" href="#troubleshooting-the-lcmaps-voms-plugin" title="Permanent link">&para;</a></h2>
<p>LCMAPS logs to <code>journalctl</code> (EL7) or <code>/var/log/messages</code> (EL6) and the verbosity of the logging can be increased by
modifying the appropriate configuration and restarting the relevant service.
This section outlines the configuration necessary to raise the debug level for the different hosts that can use LCMAPS
VOMS authentication as well as common LCMAPS VOMS authentication issues.</p>
<h3 id="htcondor-ce-hosts">HTCondor-CE hosts<a class="headerlink" href="#htcondor-ce-hosts" title="Permanent link">&para;</a></h3>
<p>If you are troubleshooting an HTCondor-CE host, follow these instructions to raise the LCMAPS debug level:</p>
<ol>
<li>
<p>Add the following text to <code>/etc/sysconfig/condor-ce</code>:</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">LCMAPS_DEBUG_LEVEL</span><span class="o">=</span><span class="m">5</span>
<span class="c1"># optional (uncomment the following line to output log messages to a file):</span>
<span class="c1"># export LCMAPS_LOG_FILE=/tmp/lcmaps.log</span>
</pre></div>


</li>
<li>
<p>Disable HTCondor-CE authentication caches by creating <code>/etc/condor-ce/config.d/99-disablegsicache.conf</code> with the
   following contents:</p>
<div class="codehilite"><pre><span></span>GSS_ASSIST_GRIDMAP_CACHE_EXPIRATION = 0
</pre></div>


</li>
<li>
<p>Restart the <a href="../../compute-element/install-htcondor-ce/#managing-htcondor-ce-and-associated-services">condor-ce</a> service</p>
</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>After you've completed troubleshooting, remember to revert the changes above and restart services!</p>
</div>
<h3 id="xrootd-hosts">XRootD hosts<a class="headerlink" href="#xrootd-hosts" title="Permanent link">&para;</a></h3>
<p>If you are troubleshooting an XRootD host, follow these instructions to raise the LCMAPS debug level:</p>
<ol>
<li>
<p>Choose the configuration file to edit based on the following table:</p>
<table>
<thead>
<tr>
<th align="left">If you are running XRootD in...</th>
<th align="left">Then modify the following file...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Standalone mode</td>
<td align="left"><code>/etc/xrootd/xrootd-standalone.cfg</code></td>
</tr>
<tr>
<td align="left">Clustered mode</td>
<td align="left"><code>/etc/xrootd/xrootd-clustered.cfg</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Set <code>loglevel=5</code> under the <code>-authzfunparms</code> of the <code>sec.protocol /usr/lib64 gsi</code> line. For example:</p>
<div class="codehilite"><pre><span></span>sec.protocol /usr/lib64 gsi -certdir:/etc/grid-security/certificates \
            -cert:/etc/grid-security/xrootd/xrootdcert.pem \
            -key:/etc/grid-security/xrootd/xrootdkey.pem \
            -crl:1 \
            -authzfun:libXrdLcmaps.so \
<span class="hll">            -authzfunparms:lcmapscfg=/etc/xrootd/lcmaps.cfg,loglevel=5,policy=authorize_only \
</span>            -gmapopt:10 -gmapto:0
</pre></div>


</li>
<li>
<p>Restart the <a href="../../data/xrootd/install-storage-element/#managing-xrootd-services">xrootd</a> service</p>
</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>After you've completed troubleshooting, remember to revert the changes above and restart services!</p>
</div>
<h3 id="gridftp-hosts">GridFTP hosts<a class="headerlink" href="#gridftp-hosts" title="Permanent link">&para;</a></h3>
<p>If you are troubleshooting a GridFTP host, follow these instructions to raise the LCMAPS debug level:</p>
<ol>
<li>
<p>Add the following text to <code>/etc/sysconfig/globus-gridftp-server</code>:</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">LCMAPS_DEBUG_LEVEL</span><span class="o">=</span><span class="m">5</span>
<span class="c1"># optional (uncomment the following line to output log messages to a file):</span>
<span class="c1"># export LCMAPS_LOG_FILE=/tmp/lcmaps.log</span>
</pre></div>


</li>
<li>
<p>Restart the <a href="../../data/gridftp/#managing-gridftp">globus-gridftp-server</a> service.</p>
</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>After you've completed troubleshooting, remember to revert the changes above and restart services!</p>
</div>
<h3 id="common-issues">Common issues<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<h4 id="wrong-version-of-gridftp">Wrong version of GridFTP<a class="headerlink" href="#wrong-version-of-gridftp" title="Permanent link">&para;</a></h4>
<p>If you have the EPEL version of the GridFTP server, you may see error messages in <code>journalctl</code> (EL7),
<code>var/log/messages</code> (EL6), or the location specified by <code>LCMAPS_LOG_FILE</code>.</p>
<p><strong>Symptoms</strong></p>
<div class="codehilite"><pre><span></span>Apr 11 13:51:41 atlas-hub globus-gridftp-server: You are still root after the LCMAPS execution. The implicit root-mapping safety is enabled. See documentation for details
</pre></div>


<p><strong>Next actions</strong></p>
<ol>
<li>
<p>If the versions of the <code>globus-gridftp-server-*</code> packages do not end in <code>osgXX.elY</code>, 
   continue with these instructions.
   To check the version of your <code>globus-gridftp-server-*</code>, run the following command:</p>
<div class="codehilite"><pre><span></span><span class="gp">user@host $</span> rpm -qa <span class="s1">&#39;globus-gridftp*&#39;</span>
</pre></div>


</li>
<li>
<p>Verify that the <a href="../../common/yum/#installing-and-configuring-repositories">priority</a> of the OSG repositories are set
   properly</p>
</li>
<li>
<p>Clean your yum cache</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum clean all --enablerepo<span class="o">=</span>*
</pre></div>


</li>
<li>
<p>Reinstall <code>globus-gridftp-server</code>:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum update globus-gridftp-server
</pre></div>


</li>
</ol>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<p>To get assistance, please use the <a href="../../common/help/">this page</a>.</p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<h3 id="configuration-files">Configuration Files<a class="headerlink" href="#configuration-files" title="Permanent link">&para;</a></h3>
<p>The files are evaluated in the following order, with earlier files taking precedence over later ones:</p>
<table>
<thead>
<tr>
<th align="left">File</th>
<th align="left">Provider</th>
<th align="left">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>/etc/grid-security/ban-mapfile</code></td>
<td align="left">Admin</td>
<td align="left">Ban DNs</td>
</tr>
<tr>
<td align="left"><code>/etc/grid-security/ban-voms-mapfile</code></td>
<td align="left">Admin</td>
<td align="left">Ban VOs</td>
</tr>
<tr>
<td align="left"><code>/etc/grid-security/grid-mapfile</code></td>
<td align="left">Admin</td>
<td align="left">Map DNs</td>
</tr>
<tr>
<td align="left"><code>/etc/grid-security/voms-mapfile</code></td>
<td align="left">Admin</td>
<td align="left">Map VOs</td>
</tr>
<tr>
<td align="left"><code>/usr/share/osg/voms-mapfile-default</code></td>
<td align="left">OSG</td>
<td align="left">Map VOs (default)</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>/usr/share/osg/voms-mapfile-default</code> is not meant to be edited and will be overwritten on upgrades.
All VO mappings can be overridden by editing the above files in <code>/etc/grid-security</code>.</p>
</div>
<h3 id="manual-configuration">Manual Configuration<a class="headerlink" href="#manual-configuration" title="Permanent link">&para;</a></h3>
<p>This section is intended for use as reference if you choose to forego configuring the LCMAPS VOMS plugin via
osg-configure (i.e., if you prefer a configuration management system like <a href="https://www.ansible.com/">Ansible</a> or
<a href="https://puppet.com/">Puppet</a>).
Therefore, the following instructions serve as a replacement for <a href="#applying-configuration-settings">this section</a> above.</p>
<p>LCMAPS is configured in <code>/etc/lcmaps.db</code> and since the VOMS plugin is a newer component, configuration for it may not
be present in your existing <code>/etc/lcmaps.db</code> file.</p>
<ol>
<li>
<p>Ensure the following lines are present in the "Module definitions" section (the top section, before
    <code>authorize_only</code>) of <code>/etc/lcmaps.db</code>:</p>
<div class="codehilite"><pre><span></span>gridmapfile = &quot;lcmaps_localaccount.mod&quot;
              &quot;-gridmap /etc/grid-security/grid-mapfile&quot;
banfile = &quot;lcmaps_ban_dn.mod&quot;
          &quot;-banmapfile /etc/grid-security/ban-mapfile&quot;
banvomsfile = &quot;lcmaps_ban_fqan.mod&quot;
              &quot;-banmapfile /etc/grid-security/ban-voms-mapfile&quot;
vomsmapfile = &quot;lcmaps_voms_localaccount.mod&quot;
              &quot;-gridmap /etc/grid-security/voms-mapfile&quot;
defaultmapfile = &quot;lcmaps_voms_localaccount2.mod&quot;
                 &quot;-gridmap /usr/share/osg/voms-mapfile-default&quot;

verifyproxynokey = &quot;lcmaps_verify_proxy2.mod&quot;
          &quot;--allow-limited-proxy&quot;
          &quot;--discard_private_key_absence&quot;
          &quot; -certdir /etc/grid-security/certificates&quot;
</pre></div>


</li>
<li>
<p>Edit the <code>authorize_only</code> section so that it contains only the following uncommented lines:</p>
<div class="codehilite"><pre><span></span>verifyproxynokey -&gt; banfile
banfile -&gt; banvomsfile | bad
banvomsfile -&gt; gridmapfile | bad
gridmapfile -&gt; good | vomsmapfile
vomsmapfile -&gt; good | defaultmapfile
defaultmapfile -&gt; good | bad
</pre></div>


</li>
<li>
<p>Edit <code>/etc/grid-security/gsi-authz.conf</code> and ensure that it contains the following line with a newline at the end:</p>
<div class="codehilite"><pre><span></span>globus_mapping liblcas_lcmaps_gt4_mapping.so lcmaps_callout
</pre></div>


</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        

<div class="md-footer-nav">
  <nav class="md-footer-nav__inner md-grid">
    
    <a href="submit/osg-flock/" title="Flock to OSG" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
      <div class="md-flex__cell md-flex__cell--shrink">
        <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
        <span class="md-flex__ellipsis">
          <span class="md-footer-nav__direction">
            Previous
          </span>
          Flock to OSG
        </span>
      </div>
    </a>
    
    
    <a href="security/user-certs/" title="User Certificates" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
        <span class="md-flex__ellipsis">
          <span class="md-footer-nav__direction">
            Next
          </span>
          User Certificates
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
      </div>
    </a>
    
  </nav>
</div>

<div class="md-footer-meta md-typeset">
  <div class="md-footer-meta__inner md-grid">
    <div class="md-footer-copyright">
      
      This material is based upon work supported by the
      <a href="https://nsf.gov">National Science Foundation</a>
      under Grant Nos.
      <a href=https://www.nsf.gov/awardsearch/showAward?AWD_ID=1148698>1148698</a>
      and
      <a href=https://www.nsf.gov/awardsearch/showAward?AWD_ID=1836650>1836650</a>
      . Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
    </div>
    
    
    
  </div>
</div>

      
    </div>
    
      <script src="../../assets/javascripts/application.a353778b.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>