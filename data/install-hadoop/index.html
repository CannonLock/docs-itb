



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
  <meta name="robots" content="noindex, nofollow" />

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://opensciencegrid.org/docs-itb/data/install-hadoop/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.4">
    
    
      
        <title>Install HDFS - OSG Site Documentation (ITB)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../css/itb.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#installing-and-maintaining-hdfs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://opensciencegrid.org/docs-itb/" title="OSG Site Documentation (ITB)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OSG Site Documentation (ITB)
              </span>
              <span class="md-header-nav__topic">
                Install HDFS
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/opensciencegrid/docs-itb/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://opensciencegrid.org/docs-itb/" title="OSG Site Documentation (ITB)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    OSG Site Documentation (ITB)
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/opensciencegrid/docs-itb/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../detailed-overview/" title="Detailed Overview" class="md-nav__link">
      Detailed Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../site-planning/" title="Site Planning" class="md-nav__link">
      Site Planning
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Compute Element
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Compute Element
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/htcondor-ce-overview/" title="HTCondor-CE Overview" class="md-nav__link">
      HTCondor-CE Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/hosted-ce/" title="Request a Hosted CE" class="md-nav__link">
      Request a Hosted CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/install-htcondor-ce/" title="Install HTCondor-CE" class="md-nav__link">
      Install HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/job-router-recipes/" title="Job Router Recipes" class="md-nav__link">
      Job Router Recipes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/troubleshoot-htcondor-ce/" title="Troubleshooting HTCondor-CE" class="md-nav__link">
      Troubleshooting HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/submit-htcondor-ce/" title="Submitting to HTCondor-CE" class="md-nav__link">
      Submitting to HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/covid-19/" title="Supporting COVID-19 Research" class="md-nav__link">
      Supporting COVID-19 Research
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Worker Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Worker Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/using-wn/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn/" title="Install from RPM" class="md-nav__link">
      Install from RPM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn-tarball/" title="Install from Tarball" class="md-nav__link">
      Install from Tarball
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn-oasis/" title="Install from OASIS" class="md-nav__link">
      Install from OASIS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-cvmfs/" title="Install CVMFS" class="md-nav__link">
      Install CVMFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-singularity/" title="Install Singularity" class="md-nav__link">
      Install Singularity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/using-wn-containers/" title="Using WN Containers" class="md-nav__link">
      Using WN Containers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      HTTP & OASIS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        HTTP & OASIS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../frontier-squid/" title="Install Squid HTTP Cache" class="md-nav__link">
      Install Squid HTTP Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../update-oasis/" title="Update OASIS Shared Repo" class="md-nav__link">
      Update OASIS Shared Repo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../external-oasis-repos/" title="Install an OASIS Repo" class="md-nav__link">
      Install an OASIS Repo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      POSIX Storage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        POSIX Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gridftp/" title="Install GridFTP Server" class="md-nav__link">
      Install GridFTP Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../load-balanced-gridftp/" title="Install Load Balanced GridFTP" class="md-nav__link">
      Install Load Balanced GridFTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      XRootD
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        XRootD
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd/overview/" title="XRootD Overview" class="md-nav__link">
      XRootD Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd/install-standalone/" title="Install XRootD Standalone" class="md-nav__link">
      Install XRootD Standalone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd/install-storage-element/" title="Install XRootD SE" class="md-nav__link">
      Install XRootD SE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd/xrootd-authorization/" title="Configure Authorization" class="md-nav__link">
      Configure Authorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd/install-client/" title="Using XRootD" class="md-nav__link">
      Using XRootD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd/install-cms-xcache/" title="Install CMS XCache" class="md-nav__link">
      Install CMS XCache
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      StashCache
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        StashCache
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../stashcache/overview/" title="StashCache Overview" class="md-nav__link">
      StashCache Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stashcache/run-stashcache-container/" title="Running a Cache in a container" class="md-nav__link">
      Running a Cache in a container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stashcache/run-stash-origin-container/" title="Running an Origin in a container" class="md-nav__link">
      Running an Origin in a container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stashcache/install-cache/" title="Install a Cache" class="md-nav__link">
      Install a Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stashcache/install-origin/" title="Install an Origin" class="md-nav__link">
      Install an Origin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stashcache/vo-data/" title="Getting VO data into StashCache" class="md-nav__link">
      Getting VO data into StashCache
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5" checked>
    
    <label class="md-nav__link" for="nav-6-5">
      HDFS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        HDFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hadoop-overview/" title="HDFS Overview" class="md-nav__link">
      HDFS Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Install HDFS
      </label>
    
    <a href="./" title="Install HDFS" class="md-nav__link md-nav__link--active">
      Install HDFS
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" title="Before Starting" class="md-nav__link">
    Before Starting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#designing-your-hdfs-cluster" title="Designing Your HDFS Cluster" class="md-nav__link">
    Designing Your HDFS Cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-hdfs" title="Installing HDFS" class="md-nav__link">
    Installing HDFS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrading-hdfs" title="Upgrading HDFS" class="md-nav__link">
    Upgrading HDFS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparing-for-the-upgrade" title="Preparing for the upgrade" class="md-nav__link">
    Preparing for the upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-to-osg-35-or-34" title="Updating to OSG 3.5 or 3.4" class="md-nav__link">
    Updating to OSG 3.5 or 3.4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-primary-namenode" title="Upgrading the Primary NameNode" class="md-nav__link">
    Upgrading the Primary NameNode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-datanodes" title="Upgrading the DataNodes" class="md-nav__link">
    Upgrading the DataNodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-secondary-namenode" title="Upgrading the Secondary NameNode" class="md-nav__link">
    Upgrading the Secondary NameNode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalizing-the-upgrade" title="Finalizing the upgrade" class="md-nav__link">
    Finalizing the upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-hdfs" title="Configuring HDFS" class="md-nav__link">
    Configuring HDFS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-namenode-instructions-for-brand-new-installs" title="Special NameNode instructions for brand new installs" class="md-nav__link">
    Special NameNode instructions for brand new installs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-fuse-client-configuration" title="(optional) FUSE Client Configuration" class="md-nav__link">
    (optional) FUSE Client Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-vo-and-user-areas" title="Creating VO and User Areas" class="md-nav__link">
    Creating VO and User Areas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp-configuration" title="GridFTP Configuration" class="md-nav__link">
    GridFTP Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-authentication" title="Configuring authentication" class="md-nav__link">
    Configuring authentication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp-gratia-transfer-probe-configuration" title="GridFTP Gratia Transfer Probe Configuration" class="md-nav__link">
    GridFTP Gratia Transfer Probe Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-storage-probe-configuration" title="Hadoop Storage Probe Configuration" class="md-nav__link">
    Hadoop Storage Probe Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#probeconfig" title="ProbeConfig" class="md-nav__link">
    ProbeConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storagecfg" title="storage.cfg" class="md-nav__link">
    storage.cfg
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-file" title="Example file" class="md-nav__link">
    Example file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-services" title="Running Services" class="md-nav__link">
    Running Services
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" title="Validation" class="md-nav__link">
    Validation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gridftp-validation" title="GridFTP Validation" class="md-nav__link">
    GridFTP Validation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hadoop" title="Hadoop" class="md-nav__link">
    Hadoop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuse" title="FUSE" class="md-nav__link">
    FUSE
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-on-building-a-fuse-module" title="Notes on Building a FUSE Module" class="md-nav__link">
    Notes on Building a FUSE Module
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-fuse-in-debug-mode" title="Running FUSE in Debug Mode" class="md-nav__link">
    Running FUSE in Debug Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp" title="GridFTP" class="md-nav__link">
    GridFTP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-gridftp-in-standalone-mode" title="Starting GridFTP in Standalone Mode" class="md-nav__link">
    Starting GridFTP in Standalone Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-locations" title="File Locations" class="md-nav__link">
    File Locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#known-issues" title="Known Issues" class="md-nav__link">
    Known Issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replicas" title="Replicas" class="md-nav__link">
    Replicas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyfromlocal-java-ioexception" title="copyFromLocal java IOException" class="md-nav__link">
    copyFromLocal java IOException
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" title="Getting Help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" title="Users" class="md-nav__link">
    Users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Submit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Submit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1">
    
    <label class="md-nav__link" for="nav-7-1">
      Flocking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        Flocking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../submit/osg-flock/" title="Flock to OSG" class="md-nav__link">
      Flock to OSG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Security
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/lcmaps-voms-authentication/" title="LCMAPS VOMS authentication" class="md-nav__link">
      LCMAPS VOMS authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/user-certs/" title="User Certificates" class="md-nav__link">
      User Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/certificate-management/" title="Certificate Management Reference" class="md-nav__link">
      Certificate Management Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Host Certificates
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        Host Certificates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/host-certs/" title="Host Certs" class="md-nav__link">
      Host Certs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/host-certs/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/host-certs/incommon/" title="Using InCommon" class="md-nav__link">
      Using InCommon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/host-certs/lets-encrypt/" title="Using Let's Encrypt" class="md-nav__link">
      Using Let's Encrypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/host-certs/digicert/" title="Using DigiCert" class="md-nav__link">
      Using DigiCert
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Common
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Common
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/ca/" title="CA Certificates" class="md-nav__link">
      CA Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/yum/" title="OSG Yum Repos" class="md-nav__link">
      OSG Yum Repos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/configuration-with-osg-configure/" title="Configuration with OSG-Configure" class="md-nav__link">
      Configuration with OSG-Configure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/registration/" title="Registration" class="md-nav__link">
      Registration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Other
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Other
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/gsissh/" title="Install GSI-enabled SSH" class="md-nav__link">
      Install GSI-enabled SSH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-gwms-frontend/" title="Install GlideinWMS Frontend" class="md-nav__link">
      Install GlideinWMS Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-cvmfs-stratum1/" title="Install a CVMFS Stratum 1" class="md-nav__link">
      Install a CVMFS Stratum 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/network-performance-toolkit/" title="Install the Network Performance Toolkit" class="md-nav__link">
      Install the Network Performance Toolkit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/troubleshooting-gratia/" title="Troubleshooting Gratia" class="md-nav__link">
      Troubleshooting Gratia
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/schedd-filebeats/" title="Install Transfer Log Filebeats" class="md-nav__link">
      Install Transfer Log Filebeats
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Release Information
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Release Information
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/notes/" title="Release Note Overview" class="md-nav__link">
      Release Note Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-2" type="checkbox" id="nav-11-2">
    
    <label class="md-nav__link" for="nav-11-2">
      3.5 Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-2">
        3.5 Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-20/" title="OSG Release 3.5.20" class="md-nav__link">
      OSG Release 3.5.20
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-19/" title="OSG Release 3.5.19" class="md-nav__link">
      OSG Release 3.5.19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-18/" title="OSG Release 3.5.18" class="md-nav__link">
      OSG Release 3.5.18
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-17/" title="OSG Release 3.5.17" class="md-nav__link">
      OSG Release 3.5.17
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-16/" title="OSG Release 3.5.16" class="md-nav__link">
      OSG Release 3.5.16
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-15-3/" title="OSG Release 3.5.15-3" class="md-nav__link">
      OSG Release 3.5.15-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-15-2/" title="OSG Release 3.5.15-2" class="md-nav__link">
      OSG Release 3.5.15-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-15/" title="OSG Release 3.5.15" class="md-nav__link">
      OSG Release 3.5.15
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-14/" title="OSG Release 3.5.14" class="md-nav__link">
      OSG Release 3.5.14
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-13/" title="OSG Release 3.5.13" class="md-nav__link">
      OSG Release 3.5.13
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-12/" title="OSG Release 3.5.12" class="md-nav__link">
      OSG Release 3.5.12
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-11/" title="OSG Release 3.5.11" class="md-nav__link">
      OSG Release 3.5.11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-10-2/" title="OSG Release 3.5.10-2" class="md-nav__link">
      OSG Release 3.5.10-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-10/" title="OSG Release 3.5.10" class="md-nav__link">
      OSG Release 3.5.10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-9/" title="OSG Release 3.5.9" class="md-nav__link">
      OSG Release 3.5.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8-4/" title="OSG Release 3.5.8-4" class="md-nav__link">
      OSG Release 3.5.8-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8-3/" title="OSG Release 3.5.8-3" class="md-nav__link">
      OSG Release 3.5.8-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8-2/" title="OSG Release 3.5.8-2" class="md-nav__link">
      OSG Release 3.5.8-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-8/" title="OSG Release 3.5.8" class="md-nav__link">
      OSG Release 3.5.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-7/" title="OSG Release 3.5.7" class="md-nav__link">
      OSG Release 3.5.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-6/" title="OSG Release 3.5.6" class="md-nav__link">
      OSG Release 3.5.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-5/" title="OSG Release 3.5.5" class="md-nav__link">
      OSG Release 3.5.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-4/" title="OSG Release 3.5.4" class="md-nav__link">
      OSG Release 3.5.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-3/" title="OSG Release 3.5.3" class="md-nav__link">
      OSG Release 3.5.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-2/" title="OSG Release 3.5.2" class="md-nav__link">
      OSG Release 3.5.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-1/" title="OSG Release 3.5.1" class="md-nav__link">
      OSG Release 3.5.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.5/release-3-5-0/" title="OSG Release 3.5.0" class="md-nav__link">
      OSG Release 3.5.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-3" type="checkbox" id="nav-11-3">
    
    <label class="md-nav__link" for="nav-11-3">
      3.4 Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-3">
        3.4 Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-53/" title="OSG Release 3.4.53" class="md-nav__link">
      OSG Release 3.4.53
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-52/" title="OSG Release 3.4.52" class="md-nav__link">
      OSG Release 3.4.52
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-51/" title="OSG Release 3.4.51" class="md-nav__link">
      OSG Release 3.4.51
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-50/" title="OSG Release 3.4.50" class="md-nav__link">
      OSG Release 3.4.50
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-49-3/" title="OSG Release 3.4.49-3" class="md-nav__link">
      OSG Release 3.4.49-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-49-2/" title="OSG Release 3.4.49-2" class="md-nav__link">
      OSG Release 3.4.49-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-49/" title="OSG Release 3.4.49" class="md-nav__link">
      OSG Release 3.4.49
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-48/" title="OSG Release 3.4.48" class="md-nav__link">
      OSG Release 3.4.48
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-47/" title="OSG Release 3.4.47" class="md-nav__link">
      OSG Release 3.4.47
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-46/" title="OSG Release 3.4.46" class="md-nav__link">
      OSG Release 3.4.46
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-45/" title="OSG Release 3.4.45" class="md-nav__link">
      OSG Release 3.4.45
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-44-2/" title="OSG Release 3.4.44-2" class="md-nav__link">
      OSG Release 3.4.44-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-44/" title="OSG Release 3.4.44" class="md-nav__link">
      OSG Release 3.4.44
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-43/" title="OSG Release 3.4.43" class="md-nav__link">
      OSG Release 3.4.43
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42-4/" title="OSG Release 3.4.42-4" class="md-nav__link">
      OSG Release 3.4.42-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42-3/" title="OSG Release 3.4.42-3" class="md-nav__link">
      OSG Release 3.4.42-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42-2/" title="OSG Release 3.4.42-2" class="md-nav__link">
      OSG Release 3.4.42-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-42/" title="OSG Release 3.4.42" class="md-nav__link">
      OSG Release 3.4.42
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-41/" title="OSG Release 3.4.41" class="md-nav__link">
      OSG Release 3.4.41
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-40/" title="OSG Release 3.4.40" class="md-nav__link">
      OSG Release 3.4.40
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-39/" title="OSG Release 3.4.39" class="md-nav__link">
      OSG Release 3.4.39
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-38/" title="OSG Release 3.4.38" class="md-nav__link">
      OSG Release 3.4.38
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-37/" title="OSG Release 3.4.37" class="md-nav__link">
      OSG Release 3.4.37
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-36/" title="OSG Release 3.4.36" class="md-nav__link">
      OSG Release 3.4.36
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-35/" title="OSG Release 3.4.35" class="md-nav__link">
      OSG Release 3.4.35
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-34/" title="OSG Release 3.4.34" class="md-nav__link">
      OSG Release 3.4.34
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-33/" title="OSG Release 3.4.33" class="md-nav__link">
      OSG Release 3.4.33
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-32/" title="OSG Release 3.4.32" class="md-nav__link">
      OSG Release 3.4.32
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-31-2/" title="OSG Release 3.4.31-2" class="md-nav__link">
      OSG Release 3.4.31-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-31/" title="OSG Release 3.4.31" class="md-nav__link">
      OSG Release 3.4.31
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-30-2/" title="OSG Release 3.4.30-2" class="md-nav__link">
      OSG Release 3.4.30-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-30/" title="OSG Release 3.4.30" class="md-nav__link">
      OSG Release 3.4.30
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-29-2/" title="OSG Release 3.4.29-2" class="md-nav__link">
      OSG Release 3.4.29-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-29/" title="OSG Release 3.4.29" class="md-nav__link">
      OSG Release 3.4.29
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-28-2/" title="OSG Release 3.4.28-2" class="md-nav__link">
      OSG Release 3.4.28-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-28/" title="OSG Release 3.4.28" class="md-nav__link">
      OSG Release 3.4.28
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-27-2/" title="OSG Release 3.4.27-2" class="md-nav__link">
      OSG Release 3.4.27-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-27/" title="OSG Release 3.4.27" class="md-nav__link">
      OSG Release 3.4.27
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-26-2/" title="OSG Release 3.4.26-2" class="md-nav__link">
      OSG Release 3.4.26-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-26/" title="OSG Release 3.4.26" class="md-nav__link">
      OSG Release 3.4.26
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-25/" title="OSG Release 3.4.25" class="md-nav__link">
      OSG Release 3.4.25
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-24-2/" title="OSG Release 3.4.24-2" class="md-nav__link">
      OSG Release 3.4.24-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-24/" title="OSG Release 3.4.24" class="md-nav__link">
      OSG Release 3.4.24
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-23/" title="OSG Release 3.4.23" class="md-nav__link">
      OSG Release 3.4.23
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-22-2/" title="OSG Release 3.4.22-2" class="md-nav__link">
      OSG Release 3.4.22-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-22/" title="OSG Release 3.4.22" class="md-nav__link">
      OSG Release 3.4.22
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-21/" title="OSG Release 3.4.21" class="md-nav__link">
      OSG Release 3.4.21
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-20/" title="OSG Release 3.4.20" class="md-nav__link">
      OSG Release 3.4.20
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-19/" title="OSG Release 3.4.19" class="md-nav__link">
      OSG Release 3.4.19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-18-2/" title="OSG Release 3.4.18-2" class="md-nav__link">
      OSG Release 3.4.18-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-18/" title="OSG Release 3.4.18" class="md-nav__link">
      OSG Release 3.4.18
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-17-3/" title="OSG Release 3.4.17-3" class="md-nav__link">
      OSG Release 3.4.17-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-17-2/" title="OSG Release 3.4.17-2" class="md-nav__link">
      OSG Release 3.4.17-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-17/" title="OSG Release 3.4.17" class="md-nav__link">
      OSG Release 3.4.17
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-16-2/" title="OSG Release 3.4.16-2" class="md-nav__link">
      OSG Release 3.4.16-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-16/" title="OSG Release 3.4.16" class="md-nav__link">
      OSG Release 3.4.16
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-15/" title="OSG Release 3.4.15" class="md-nav__link">
      OSG Release 3.4.15
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-14-2/" title="OSG Release 3.4.14-2" class="md-nav__link">
      OSG Release 3.4.14-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-14/" title="OSG Release 3.4.14" class="md-nav__link">
      OSG Release 3.4.14
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-13/" title="OSG Release 3.4.13" class="md-nav__link">
      OSG Release 3.4.13
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-12-3/" title="OSG Release 3.4.12-3" class="md-nav__link">
      OSG Release 3.4.12-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-12-2/" title="OSG Release 3.4.12-2" class="md-nav__link">
      OSG Release 3.4.12-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-12/" title="OSG Release 3.4.12" class="md-nav__link">
      OSG Release 3.4.12
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-11/" title="OSG Release 3.4.11" class="md-nav__link">
      OSG Release 3.4.11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-10/" title="OSG Release 3.4.10" class="md-nav__link">
      OSG Release 3.4.10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-9-2/" title="OSG Release 3.4.9-2" class="md-nav__link">
      OSG Release 3.4.9-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-9/" title="OSG Release 3.4.9" class="md-nav__link">
      OSG Release 3.4.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-8/" title="OSG Release 3.4.8" class="md-nav__link">
      OSG Release 3.4.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-7/" title="OSG Release 3.4.7" class="md-nav__link">
      OSG Release 3.4.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-6-2/" title="OSG Release 3.4.6-2" class="md-nav__link">
      OSG Release 3.4.6-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-6/" title="OSG Release 3.4.6" class="md-nav__link">
      OSG Release 3.4.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-4/" title="OSG Release 3.4.5-4" class="md-nav__link">
      OSG Release 3.4.5-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-3/" title="OSG Release 3.4.5-3" class="md-nav__link">
      OSG Release 3.4.5-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-2/" title="OSG Release 3.4.5-2" class="md-nav__link">
      OSG Release 3.4.5-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5/" title="OSG Release 3.4.5" class="md-nav__link">
      OSG Release 3.4.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4-3/" title="OSG Release 3.4.4-3" class="md-nav__link">
      OSG Release 3.4.4-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4-2/" title="OSG Release 3.4.4-2" class="md-nav__link">
      OSG Release 3.4.4-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4/" title="OSG Release 3.4.4" class="md-nav__link">
      OSG Release 3.4.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-3/" title="OSG Release 3.4.3" class="md-nav__link">
      OSG Release 3.4.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-2-2/" title="OSG Release 3.4.2-2" class="md-nav__link">
      OSG Release 3.4.2-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-2/" title="OSG Release 3.4.2" class="md-nav__link">
      OSG Release 3.4.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-1-2/" title="OSG Release 3.4.1-2" class="md-nav__link">
      OSG Release 3.4.1-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-1/" title="OSG Release 3.4.1" class="md-nav__link">
      OSG Release 3.4.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-0-2/" title="OSG Release 3.4.0-2" class="md-nav__link">
      OSG Release 3.4.0-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-0/" title="OSG Release 3.4.0" class="md-nav__link">
      OSG Release 3.4.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/release_series/" title="OSG Release Series" class="md-nav__link">
      OSG Release Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/supported_platforms/" title="Supported Platforms" class="md-nav__link">
      Supported Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/yum-basics/" title="Yum Basics" class="md-nav__link">
      Yum Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/signing/" title="RPM Signing" class="md-nav__link">
      RPM Signing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Deprecated
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Deprecated
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/install-rsv/" title="Install RSV" class="md-nav__link">
      Install RSV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/advanced-rsv-configuration/" title="Advanced RSV Configuration" class="md-nav__link">
      Advanced RSV Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/rsv-control/" title="Manage RSV via rsv-control" class="md-nav__link">
      Manage RSV via rsv-control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/install-rsv-gwms-tester/" title="RSV GlideinWMS Tester" class="md-nav__link">
      RSV GlideinWMS Tester
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../common/help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" title="Before Starting" class="md-nav__link">
    Before Starting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#designing-your-hdfs-cluster" title="Designing Your HDFS Cluster" class="md-nav__link">
    Designing Your HDFS Cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-hdfs" title="Installing HDFS" class="md-nav__link">
    Installing HDFS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrading-hdfs" title="Upgrading HDFS" class="md-nav__link">
    Upgrading HDFS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparing-for-the-upgrade" title="Preparing for the upgrade" class="md-nav__link">
    Preparing for the upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-to-osg-35-or-34" title="Updating to OSG 3.5 or 3.4" class="md-nav__link">
    Updating to OSG 3.5 or 3.4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-primary-namenode" title="Upgrading the Primary NameNode" class="md-nav__link">
    Upgrading the Primary NameNode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-datanodes" title="Upgrading the DataNodes" class="md-nav__link">
    Upgrading the DataNodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-the-secondary-namenode" title="Upgrading the Secondary NameNode" class="md-nav__link">
    Upgrading the Secondary NameNode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalizing-the-upgrade" title="Finalizing the upgrade" class="md-nav__link">
    Finalizing the upgrade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-hdfs" title="Configuring HDFS" class="md-nav__link">
    Configuring HDFS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-namenode-instructions-for-brand-new-installs" title="Special NameNode instructions for brand new installs" class="md-nav__link">
    Special NameNode instructions for brand new installs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-fuse-client-configuration" title="(optional) FUSE Client Configuration" class="md-nav__link">
    (optional) FUSE Client Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-vo-and-user-areas" title="Creating VO and User Areas" class="md-nav__link">
    Creating VO and User Areas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp-configuration" title="GridFTP Configuration" class="md-nav__link">
    GridFTP Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-authentication" title="Configuring authentication" class="md-nav__link">
    Configuring authentication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp-gratia-transfer-probe-configuration" title="GridFTP Gratia Transfer Probe Configuration" class="md-nav__link">
    GridFTP Gratia Transfer Probe Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-storage-probe-configuration" title="Hadoop Storage Probe Configuration" class="md-nav__link">
    Hadoop Storage Probe Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#probeconfig" title="ProbeConfig" class="md-nav__link">
    ProbeConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storagecfg" title="storage.cfg" class="md-nav__link">
    storage.cfg
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-file" title="Example file" class="md-nav__link">
    Example file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-services" title="Running Services" class="md-nav__link">
    Running Services
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" title="Validation" class="md-nav__link">
    Validation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gridftp-validation" title="GridFTP Validation" class="md-nav__link">
    GridFTP Validation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hadoop" title="Hadoop" class="md-nav__link">
    Hadoop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuse" title="FUSE" class="md-nav__link">
    FUSE
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-on-building-a-fuse-module" title="Notes on Building a FUSE Module" class="md-nav__link">
    Notes on Building a FUSE Module
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-fuse-in-debug-mode" title="Running FUSE in Debug Mode" class="md-nav__link">
    Running FUSE in Debug Mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gridftp" title="GridFTP" class="md-nav__link">
    GridFTP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-gridftp-in-standalone-mode" title="Starting GridFTP in Standalone Mode" class="md-nav__link">
    Starting GridFTP in Standalone Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-locations" title="File Locations" class="md-nav__link">
    File Locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#known-issues" title="Known Issues" class="md-nav__link">
    Known Issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replicas" title="Replicas" class="md-nav__link">
    Replicas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyfromlocal-java-ioexception" title="copyFromLocal java IOException" class="md-nav__link">
    copyFromLocal java IOException
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" title="Getting Help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" title="Users" class="md-nav__link">
    Users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/docs-itb/edit/master/docs/data/install-hadoop.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="installing-and-maintaining-hdfs">Installing and Maintaining HDFS<a class="headerlink" href="#installing-and-maintaining-hdfs" title="Permanent link">&para;</a></h1>
<p><a href="http://hadoop.apache.org/">Hadoop Distributed File System</a> (HDFS) is a scalable, reliable distributed file system developed in the Apache project. It is based on the map-reduce framework and design of the Google file system. The OSG distribution of Hadoop includes all components needed to operate a multi-terabyte storage site.</p>
<p>The purpose of this document is to provide Hadoop-based Storage Element administrators the information on how to prepare,
install and validate OSG storage based on the Hadoop Distributed File System (HDFS).
The OSG supports a patched version HDFS from Cloudera's CDH5 distribution of HDFS
(<a href="https://www.cloudera.com/products/open-source/apache-hadoop/key-cdh-components.html">https://www.cloudera.com/products/open-source/apache-hadoop/key-cdh-components.html</a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The OSG only supports HDFS on EL7 hosts</p>
</div>
<h2 id="before-starting">Before Starting<a class="headerlink" href="#before-starting" title="Permanent link">&para;</a></h2>
<p>Before starting the installation process, consider the following points (consulting <a href="#reference">the Reference section below</a> as needed):</p>
<ul>
<li><strong>User IDs:</strong> If they do not exist already, the installation will create the Linux users <code>hdfs</code> and <code>zookeeper</code> on all nodes
    as well as <code>hadoop</code> and <code>mapred</code> on the NameNodes</li>
<li><strong>Firewall:</strong> In the OSG, HDFS is intended to run as an internal service without any direct, external access to any of the nodes.
    For more information on the ports used for communication between the various HDFS nodes, see the 
    <a href="https://www.cloudera.com/documentation/cdh/5-0-x/CDH5-Installation-Guide/cdh5ig_ports_cdh5.html">Cloudera documentation</a>.</li>
</ul>
<p>As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:</p>
<ul>
<li>Ensure the host has <a href="../../release/supported_platforms">a supported operating system</a></li>
<li>Obtain root access to the host</li>
<li>Prepare the <a href="../../common/yum">required Yum repositories</a></li>
</ul>
<h2 id="designing-your-hdfs-cluster">Designing Your HDFS Cluster<a class="headerlink" href="#designing-your-hdfs-cluster" title="Permanent link">&para;</a></h2>
<p>There are several important components to an HDFS installation:</p>
<ul>
<li><strong>NameNode</strong>: The NameNode functions as the directory server and coordinator of the HDFS cluster.
    It houses all the meta-data for the hadoop cluster.</li>
<li><strong>Secondary NameNode (optional)</strong>: This is a secondary machine that periodically merges updates to the HDFS file
    system back into the <code>fsimage</code>.
    It must share a directory with the primary NameNode to exchange filesystem checkpoints.
    An HDFS installation with a Secondary NameNode dramatically improves startup and restart times.</li>
<li><strong>DataNode</strong>: You will have many DataNodes. Each DataNode stores large blocks of files to for the hadoop cluster.</li>
<li><strong>Client</strong>: This is a documentation shorthand that refers to any machine with the hadoop client commands or
    <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace">FUSE</a> mount.</li>
</ul>
<h2 id="installing-hdfs">Installing HDFS<a class="headerlink" href="#installing-hdfs" title="Permanent link">&para;</a></h2>
<p>An OSG HDFS installation consists of HDFS and other support software (e.g., Gratia accounting).
To simplify installation, OSG provides convenience RPMs that install all required software.</p>
<ol>
<li>
<p>Clean yum cache:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum clean all --enablerepo<span class="o">=</span>*
</pre></div>


</li>
<li>
<p>Update software:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum update
</pre></div>


<p>This command will update <strong>all</strong> packages</p>
</li>
<li>
<p>Install the relevant packages based on the node you are installing:</p>
<table>
<thead>
<tr>
<th align="left">If you are installing a(n)...</th>
<th align="left">Then run the following command...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Primary NameNode</td>
<td align="left"><code>yum install osg-se-hadoop-namenode</code></td>
</tr>
<tr>
<td align="left">Secondary NameNode</td>
<td align="left"><code>yum install osg-se-hadoop-secondarynamenode</code></td>
</tr>
<tr>
<td align="left">DataNode</td>
<td align="left"><code>yum install osg-se-hadoop-datanode</code></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h2 id="upgrading-hdfs">Upgrading HDFS<a class="headerlink" href="#upgrading-hdfs" title="Permanent link">&para;</a></h2>
<p>This section will guide you through the process to upgrade a HDFS 2.0.0 installation from OSG 3.3 to the HDFS 2.6.0
from OSG 3.4.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The upgrade process will involve downtime for your HDFS cluster. Please plan accordingly.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The OSG only offers HDFS 2.6.0 for EL7 hosts.</p>
</div>
<p>The upgrade process occurs in several steps:</p>
<ol>
<li><a href="#preparing-for-the-upgrade">Preparing for the upgrade</a></li>
<li><a href="#updating-to-osg-35-or-34">Updating to OSG 3.5 or 3.4</a></li>
<li><a href="#upgrading-the-primary-namenode">Upgrading the Primary NameNode</a></li>
<li><a href="#upgrading-the-datanodes">Upgrading the DataNodes</a></li>
<li><a href="#upgrading-the-secondary-namenode">Upgrading the Secondary NameNode</a></li>
<li><a href="#finalizing-the-upgrade">Finalizing the upgrade</a></li>
</ol>
<h3 id="preparing-for-the-upgrade">Preparing for the upgrade<a class="headerlink" href="#preparing-for-the-upgrade" title="Permanent link">&para;</a></h3>
<p>Before upgrading, backup your configuration data and HDFS metadata.</p>
<ol>
<li>
<p>Put your Primary NameNode into safe mode:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> hdfs dfsadmin -safemode enter
<span class="go">Safe mode is ON</span>
</pre></div>


</li>
<li>
<p>Save a clean copy of your HDFS namespace:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> hdfs dfsadmin -saveNamespace
<span class="go">Save namespace successful</span>
</pre></div>


</li>
<li>
<p>Shutdown the HDFS services on all of your HDFS nodes (see <a href="#running-services">this section</a> for instructions).</p>
</li>
<li>
<p>On the Primary NameNode, verify that your NameNode service is off:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> /etc/init.d/hadoop-hdfs-namenode status
</pre></div>


<p>This command should indicate that your NameNode service is not running.</p>
</li>
<li>
<p>Find the location of the directory with the HDFS metadata:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> grep -C1 dfs.namenode.name.dir /etc/hadoop/conf/hdfs-site.xml
</pre></div>


<p>And look for the value of <code>dfs.namenode.name.dir</code>:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;property&gt;</span>
 <span class="nt">&lt;name&gt;</span>dfs.namenode.name.dir<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;value&gt;</span>file:///var/lib/dfs/nn,file:///home/hadoop/dfs/nn<span class="nt">&lt;/value&gt;</span>
</pre></div>


</li>
<li>
<p>Backup the directory that appears in the output using your backup method of choice.
   If more than one directory appears in the list (as in the example above), choose the most convenient directory.
   All of the directories in the list will have the same contents.</p>
</li>
</ol>
<h3 id="updating-to-osg-35-or-34">Updating to OSG 3.5 or 3.4<a class="headerlink" href="#updating-to-osg-35-or-34" title="Permanent link">&para;</a></h3>
<p>Once your HDFS services have been turned off and the HDFS metadata has been backed up, update each node to OSG 3.4 by
following the instructions in <a href="../../release/release_series/#updating-from-old">this section</a>.</p>
<h3 id="upgrading-the-primary-namenode">Upgrading the Primary NameNode<a class="headerlink" href="#upgrading-the-primary-namenode" title="Permanent link">&para;</a></h3>
<p>To upgrade your Primary NameNode, update all relevant packages then run the upgrade command.</p>
<ol>
<li>
<p>Clear the yum cache:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> yum clean all --enablerepo<span class="o">=</span>*
</pre></div>


</li>
<li>
<p>Update the HDFS RPMs:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> yum update osg-se-hadoop-namenode --enablerepo-osg-upcoming
</pre></div>


</li>
<li>
<p>Perform the upgrade command:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> /etc/init.d/hadoop-hdfs-namenode upgrade
</pre></div>


<p>This will start the upgrade process for the HDFS metadata on your primary namenode.
You can follow the process by running</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> tail -f /var/log/hadoop-hdfs/hadoop-hdfs-namenode-&lt;hostname&gt;.log
</pre></div>


</li>
</ol>
<h3 id="upgrading-the-datanodes">Upgrading the DataNodes<a class="headerlink" href="#upgrading-the-datanodes" title="Permanent link">&para;</a></h3>
<p>Once the Primary NameNode has completed its upgrade process, start the process of upgrading each of your DataNodes.</p>
<ol>
<li>
<p>Clear the yum cache:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@datanode #</span> yum clean all --enablerepo<span class="o">=</span>*
</pre></div>


</li>
<li>
<p>Update the HDFS RPMs:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@datanode #</span> yum update osg-se-hadoop-datanode --enablerepo-osg-upcoming
</pre></div>


</li>
<li>
<p>Start the DataNode service:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@datanode #</span> /etc/init.d/hadoop-hdfs-datanode start
</pre></div>


</li>
<li>
<p>After all the DataNodes have been brought back up, the Primary NameNode should exit safe mode automatically.
   On the Primary NameNode, run the following command to verify is no longer in safe mode:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> hdfs dfsadmin -safemode get
<span class="go">Safe mode is OFF</span>
</pre></div>


</li>
</ol>
<h3 id="upgrading-the-secondary-namenode">Upgrading the Secondary NameNode<a class="headerlink" href="#upgrading-the-secondary-namenode" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section only applies to sites with a Secondary NameNode.
If you do not run a Secondary NameNode, skip to the <a href="#finalizing-the-upgrade">next section</a>.</p>
</div>
<p>Once the Primary NameNode has exited safe mode, start the process of upgrading your Secondary NameNode.</p>
<ol>
<li>
<p>Clear the yum cache:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@secondary-namenode #</span> yum clean all --enablerepo<span class="o">=</span>*
</pre></div>


</li>
<li>
<p>Update the HDFS RPMs:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@secondary-namenode #</span> yum update osg-se-hadoop-secondarynamenode --enablerepo-osg-upcoming
</pre></div>


</li>
<li>
<p>Start the Secondary NameNode service:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@secondary-namenode #</span> /etc/init.d/hadoop-hdfs-secondarynamenode start
</pre></div>


</li>
</ol>
<h3 id="finalizing-the-upgrade">Finalizing the upgrade<a class="headerlink" href="#finalizing-the-upgrade" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Verify that the HDFS cluster is running correctly by following the instructions in <a href="#validation_1">this section</a>.</p>
</li>
<li>
<p>Finalize the upgrade from the Primary NameNode:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@primary-namenode #</span> hdfs dfsadmin -finalizeUpgrade
<span class="go">Finalize upgrade successful</span>
</pre></div>


</li>
</ol>
<h2 id="configuring-hdfs">Configuring HDFS<a class="headerlink" href="#configuring-hdfs" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Needed by: Hadoop NameNode, Hadoop DataNodes, Hadoop client, GridFTP</p>
</div>
<p>Hadoop configuration is needed by every node in the hadoop cluster. However, in most cases, you can do the configuration once and copy it to all nodes in the cluster (possibly using your favorite configuration management tool). Special configuration for various special components is given in the below sections.</p>
<p>Hadoop configuration is stored in <code>/etc/hadoop/conf</code>. However, by default, these files are mostly blank. OSG provides a sample configuration in <code>/etc/hadoop/conf.osg</code> with most common values filled in. You will need to copy these into <code>/etc/hadoop/conf</code> before they become active. Please let us know if there are any common values that should be added/changed across the whole grid. You will likely need to modify <code>hdfs-site.xml</code> and <code>core-site.xml</code>. Review all the settings in these files, but listed below are common settings to modify:</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Setting</th>
<th>Example</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>core-site.xml</code></td>
<td>fs.default.name</td>
<td>hdfs://namenode.domain.tld.:9000</td>
<td>This is the address of the NameNode</td>
</tr>
<tr>
<td><code>core-site.xml</code></td>
<td>hadoop.tmp.dir</td>
<td>/data/scratch</td>
<td>Scratch temp directory used by Hadoop</td>
</tr>
<tr>
<td><code>core-site.xml</code></td>
<td>hadoop.log.dir</td>
<td>/var/log/hadoop-hdfs</td>
<td>Log directory used by Hadoop</td>
</tr>
<tr>
<td><code>core-site.xml</code></td>
<td>dfs.umaskmode</td>
<td>002</td>
<td>umask for permissions used by default</td>
</tr>
<tr>
<td><code>hdfs-site.xml</code></td>
<td>dfs.block.size</td>
<td>134217728</td>
<td>Block size: 128MB by default</td>
</tr>
<tr>
<td><code>hdfs-site.xml</code></td>
<td>dfs.replication</td>
<td>2</td>
<td>Default replication factor. Generally the same as dfs.replication.min/max</td>
</tr>
<tr>
<td><code>hdfs-site.xml</code></td>
<td>dfs.datanode.du.reserved</td>
<td>100000000</td>
<td>How much free space hadoop will reserve for non-Hadoop usage</td>
</tr>
<tr>
<td><code>hdfs-site.xml</code></td>
<td>dfs.datanode.handler.count</td>
<td>20</td>
<td>Number of server threads for DataNodes. Increase if you have many more client connections</td>
</tr>
<tr>
<td><code>hdfs-site.xml</code></td>
<td>dfs.namenode.handler.count</td>
<td>40</td>
<td>Number of server threads for NameNodes. Increase if you need more connections</td>
</tr>
<tr>
<td><code>hdfs-site.xml</code></td>
<td>dfs.http.address</td>
<td>namenode.domain.tld.:50070</td>
<td>Web address for dfs health monitoring page</td>
</tr>
</tbody>
</table>
<p>See <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/hdfs-default.xml</a> for more parameters to configure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>NameNodes must have a <code>/etc/hosts_exclude</code> present</p>
</div>
<h4 id="special-namenode-instructions-for-brand-new-installs">Special NameNode instructions for brand new installs<a class="headerlink" href="#special-namenode-instructions-for-brand-new-installs" title="Permanent link">&para;</a></h4>
<p>If this is a new installation (<strong>and only if this is a brand new installation</strong>), you should run the following command as the <code>hdfs</code> user. (Otherwise, be sure to <code>chown</code> your storage directory to hdfs after running):</p>
<div class="codehilite"><pre><span></span><span class="go">hadoop namenode -format</span>
</pre></div>


<p>This will initialize the storage directory on your NameNode</p>
<h3 id="optional-fuse-client-configuration">(optional) FUSE Client Configuration<a class="headerlink" href="#optional-fuse-client-configuration" title="Permanent link">&para;</a></h3>
<p>A FUSE mount is required on any node that you would like to use standard POSIX-like commands on the Hadoop filesystem. FUSE (or "File system in User SpacE") is a way to access HDFS using typical UNIX directory commands (i.e., POSIX-like access). Note that not all advanced functions of a full POSIX-compliant file system are necessarily available.</p>
<p>FUSE is typically installed as part of this installation, but, if you are running a customized or non-standard system, make sure that the fuse kernel module is installed and loaded with <code>modprobe fuse</code>.</p>
<p>You can add the FUSE to be mounted at boot time by adding the following line to <code>/etc/fstab</code>:</p>
<div class="codehilite"><pre><span></span>hadoop-fuse-dfs# &lt;/MNT/HADOOP&gt; fuse server=&lt;NAMENODE.HOST&gt;,port=9000,rdbuffer=131072,allow_other 0 0
</pre></div>


<p>Be sure to change the <code>&lt;/MNT/HADOOP&gt;</code> mount point and <code>&lt;NAMENODE.HOST&gt;</code> to match your local configuration. To match the help documents, we recommend using <code>&lt;/MNT/HADOOP&gt;</code> as your mountpoint.</p>
<p>Once your <code>/etc/fstab</code> is updated, to mount FUSE run:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> mkdir /mnt/hadoop
<span class="gp">root@host #</span> mount /mnt/hadoop
</pre></div>


<p>When mounting the HDFS FUSE mount, you will see the following harmless warnings printed to the screen:</p>
<div class="codehilite"><pre><span></span><span class="gp">#</span> mount /mnt/hadoop
<span class="go">INFO fuse_options.c:162 Adding FUSE arg /mnt/hadoop</span>
<span class="go">INFO fuse_options.c:110 Ignoring option allow_other</span>
</pre></div>


<p>If you have troubles mounting FUSE refer to <a href="#running-fuse-in-debug-mode">Running FUSE in Debug Mode</a> in the Troubleshooting section.</p>
<h3 id="creating-vo-and-user-areas">Creating VO and User Areas<a class="headerlink" href="#creating-vo-and-user-areas" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Grid Users are needed by GridFTP nodes. VO areas are common to all nodes.</p>
</div>
<p>For this package to function correctly, you will have to create the users needed for grid operation. Any user that can be authenticated should be created.</p>
<p>For grid-mapfile users, each line of the grid-mapfile is a certificate/user pair. Each user in this file should be created on the server.</p>
<p>Note that these users must be kept in sync with the authentication method.</p>
<p>Prior to starting basic day-to-day operations, it is important to create dedicated areas for each VO and/or user. This is similar to user management in simple UNIX filesystems. Create (and maintain) usernames and groups with UIDs and GIDs on <strong>all nodes</strong>. These are maintained in basic system files such as <code>/etc/passwd</code> and <code>/etc/group</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the examples below It is assumed a FUSE mount is set to <code>/mnt/hadoop</code>. As an alternative <code>hadoop fs</code> commands could have been used.</p>
</div>
<p>For clean HDFS operations and filesystem management:</p>
<p>(a) Create top-level VO subdirectories under <code>/mnt/hadoop</code>.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> mkdir /mnt/hadoop/cms
<span class="gp">root@host #</span> mkdir /mnt/hadoop/dzero
<span class="gp">root@host #</span> mkdir /mnt/hadoop/sbgrid
<span class="gp">root@host #</span> mkdir /mnt/hadoop/fermigrid
<span class="gp">root@host #</span> mkdir /mnt/hadoop/cmstest
<span class="gp">root@host #</span> mkdir /mnt/hadoop/osg
</pre></div>


<p>(b) Create individual top-level user areas, under each VO area, as needed.</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> mkdir -p /mnt/hadoop/cms/store/user/tanyalevshina
<span class="gp">root@host #</span> mkdir -p /mnt/hadoop/cms/store/user/michaelthomas
<span class="gp">root@host #</span> mkdir -p /mnt/hadoop/cms/store/user/brianbockelman
<span class="gp">root@host #</span> mkdir -p /mnt/hadoop/cms/store/user/douglasstrain
<span class="gp">root@host #</span> mkdir -p /mnt/hadoop/cms/store/user/abhisheksinghrana
</pre></div>


<p>(c) Adjust username:group ownership of each area.</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> chown -R cms:cms /mnt/hadoop/cms
<span class="gp">root@host #</span> chown -R sam:sam /mnt/hadoop/dzero

<span class="gp">root@host #</span> chown -R michaelthomas:cms /mnt/hadoop/cms/store/user/michaelthomas
</pre></div>


<h3 id="gridftp-configuration">GridFTP Configuration<a class="headerlink" href="#gridftp-configuration" title="Permanent link">&para;</a></h3>
<p>gridftp-hdfs reads the Hadoop configuration file to learn how to talk to Hadoop.
By now, you should have followed the instruction for installing hadoop as detailed in the previous section as well as
created the proper users/directories.</p>
<p>The default settings in <code>/etc/gridftp.conf</code> along with <code>/etc/gridftp.d/gridftp-hdfs.conf</code> are used by the init.d script
and should be ok for most installations.
The file <code>/etc/gridftp-hdfs/gridftp-debug.conf</code> is used by <code>/usr/bin/gridftp-hdfs-standalone</code> for starting up the
GridFTP server in a testing mode.
Any additional config files under <code>/etc/gridftp.d</code> will be used for both the init.d and standalone GridFTP server.
<code>/etc/sysconfig/gridftp-hdfs</code> contains additional site-specific environment variables that are used by the gridftp-hdfs
DSI module in both the init.d and standalone GridFTP server.
Some of the environment variables that can be used in <code>/etc/sysconfig/gridftp-hdfs</code> include:</p>
<table>
<thead>
<tr>
<th>Option Name</th>
<th>Needs Editing?</th>
<th>Suggested value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GRIDFTP_HDFS_REPLICA_MAP</code></td>
<td>No</td>
<td>File containing a list of paths and replica values for setting the default # of replicas for specific file paths</td>
</tr>
<tr>
<td><code>GRIDFTP_BUFFER_COUNT</code></td>
<td>No</td>
<td>The number of 1MB memory buffers used to reorder data streams before writing them to Hadoop</td>
</tr>
<tr>
<td><code>GRIDFTP_FILE_BUFFER_COUNT</code></td>
<td>No</td>
<td>The number of 1MB file-based buffers used to reorder data streams before writing them to Hadoop</td>
</tr>
<tr>
<td><code>GRIDFTP_SYSLOG</code></td>
<td>No</td>
<td>Set this to 1 in case if you want to send transfer activity data to syslog (only used for the HadoopViz application)</td>
</tr>
<tr>
<td><code>GRIDFTP_HDFS_CHECKSUMS</code></td>
<td>Maybe</td>
<td>List of checksum calculations to perform on-the-fly (default: <code>"MD5,ADLER32,CRC32,CKSUM,CVMFS"</code>)</td>
</tr>
<tr>
<td><code>GRIDFTP_HDFS_MOUNT_POINT</code></td>
<td>Maybe</td>
<td>The location of the FUSE mount point used during the Hadoop installation. Defaults to /mnt/hadoop. This is needed so that gridftp-hdfs can convert fuse paths on the incoming URL to native Hadoop paths. <strong>Note:</strong> this does not imply you need FUSE mounted on GridFTP nodes!</td>
</tr>
<tr>
<td><code>GRIDFTP_LOAD_LIMIT</code></td>
<td>No</td>
<td>GridFTP will refuse to start new transfers if the load on the GridFTP host is higher than this number; defaults to 20.</td>
</tr>
<tr>
<td><code>TMPDIR</code></td>
<td>Maybe</td>
<td>The temp directory where the file-based buffers are stored. Defaults to /tmp.</td>
</tr>
</tbody>
</table>
<p><code>/etc/sysconfig/gridftp-hdfs</code> is also a good place to increase per-process resource limits. For example, many installations will require more than the default number of open files (<code>ulimit -n</code>).</p>
<p>Lastly, you will need to configure an authentication mechanism for GridFTP.</p>
<h4 id="configuring-authentication">Configuring authentication<a class="headerlink" href="#configuring-authentication" title="Permanent link">&para;</a></h4>
<p>For information on how to configure authentication for your GridFTP installation, please refer to the <a href="../gridftp#configuring-authentication">configuring authentication section of the GridFTP guide</a>.</p>
<h3 id="gridftp-gratia-transfer-probe-configuration">GridFTP Gratia Transfer Probe Configuration<a class="headerlink" href="#gridftp-gratia-transfer-probe-configuration" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Needed by GridFTP node only.</p>
</div>
<p>See the <a href="../../data/gridftp#enabling-gridftp-transfer-probe">GridFTP documentation</a> for configuration details.</p>
<h3 id="hadoop-storage-probe-configuration">Hadoop Storage Probe Configuration<a class="headerlink" href="#hadoop-storage-probe-configuration" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is only needed by the Hadoop NameNode</p>
</div>
<p>Here are the most relevant file and directory locations:</p>
<table>
<thead>
<tr>
<th>Purpose</th>
<th>Needs Editing?</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>Probe Configuration</td>
<td>Yes</td>
<td>/etc/gratia/hadoop-storage/ProbeConfig</td>
</tr>
<tr>
<td>Probe Executable</td>
<td>No</td>
<td>/usr/share/gratia/hadoop-storage/hadoop_storage_probe</td>
</tr>
<tr>
<td>Log files</td>
<td>No</td>
<td>/var/log/gratia</td>
</tr>
<tr>
<td>Temporary files</td>
<td>No</td>
<td>/var/lib/gratia/tmp</td>
</tr>
</tbody>
</table>
<p>The RPM installs the Gratia probe into the system crontab, but does not configure it. The configuration of the probe is controlled by two files</p>
<div class="codehilite"><pre><span></span>/etc/gratia/hadoop-storage/ProbeConfig
/etc/gratia/hadoop-storage/storage.cfg
</pre></div>


<h4 id="probeconfig">ProbeConfig<a class="headerlink" href="#probeconfig" title="Permanent link">&para;</a></h4>
<p>This is usually one XML node spread over multiple lines. Note that comments (#) have no effect on this file. You will need to edit the following:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Needs Editing</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>CollectorHost</td>
<td>Maybe</td>
<td>Set to the hostname and port of the central collector. By default it sends to the OSG collector. You probably do not want to change it.</td>
</tr>
<tr>
<td>SiteName</td>
<td>Yes</td>
<td>Set to the resource group name of your SE as registered in OIM.</td>
</tr>
<tr>
<td>Grid</td>
<td>Maybe</td>
<td>Set to "ITB" if this is a test resource; otherwise, leave as OSG.</td>
</tr>
<tr>
<td>EnableProbe</td>
<td>Yes</td>
<td>Set to 1 to enable the probe.</td>
</tr>
</tbody>
</table>
<h4 id="storagecfg">storage.cfg<a class="headerlink" href="#storagecfg" title="Permanent link">&para;</a></h4>
<p>This file controls which paths in HDFS should be monitored. This is in the Windows INI format.</p>
<p><strong>Note: for the current version of the storage.cfg, there is an error, and you may need to delete the "probe/" subdirectory for the ProbeConfig location</strong></p>
<div class="codehilite"><pre><span></span>ProbeConfig = /etc/gratia/probe/hadoop-storage/ProbeConfig
</pre></div>


<p>For each logical "area" (arbitrarily defined by you), specify both a given name and a list of paths that belong to that area. Unix globs are accepted.</p>
<p>To configure an area named "CMS /store" that monitors the space usage in the paths /user/cms/store/*, one would add the following to the storage.cfg file.</p>
<div class="codehilite"><pre><span></span>[Area CMS /store]
Name = CMS /store
Path = /user/cms/store/*
Trim = /user/cms
</pre></div>


<p>For each such area, add a section to your configuration file.</p>
<h5 id="example-file">Example file<a class="headerlink" href="#example-file" title="Permanent link">&para;</a></h5>
<p>Below is a configuration file that includes three distinct areas. Note that you shouldn't have to touch the [Gratia] section if you edited the ProbeConfig above:</p>
<div class="codehilite"><pre><span></span>[Gratia]
gratia_location = /opt/vdt/gratia
ProbeConfig = %(gratia_location)s/probe/hadoop-storage/ProbeConfig

[Area /store]
Name = CMS /store
Path = /store/*

[Area /store/user]
Name = CMS /store/user
Path = /store/user/*

[Area /user]
Name = Hadoop /user
Path = /user/*
</pre></div>


<p>*<strong>NOTE These lines in the [gratia] section are wrong and need to be changed to the following by hand for now until the rpm is updated:</strong></p>
<div class="codehilite"><pre><span></span>gratia_location = /etc/gratia
ProbeConfig = %(gratia_location)s/hadoop-storage/ProbeConfig
</pre></div>


<h2 id="running-services">Running Services<a class="headerlink" href="#running-services" title="Permanent link">&para;</a></h2>
<p>Start the services in the order listed and stop them in reverse order. As a reminder, here are common service commands (all run as <code>root</code>):</p>
<table>
<thead>
<tr>
<th align="left">To...</th>
<th align="left">On EL6, run the command...</th>
<th align="left">On EL7, run the command...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Start a service</td>
<td align="left"><code>service &lt;SERVICE-NAME&gt; start</code></td>
<td align="left"><code>systemctl start &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Stop a  service</td>
<td align="left"><code>service &lt;SERVICE-NAME&gt; stop</code></td>
<td align="left"><code>systemctl stop &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Enable a service to start on boot</td>
<td align="left"><code>chkconfig &lt;SERVICE-NAME&gt; on</code></td>
<td align="left"><code>systemctl enable &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Disable a service from starting on boot</td>
<td align="left"><code>chkconfig &lt;SERVICE-NAME&gt; off</code></td>
<td align="left"><code>systemctl disable &lt;SERVICE-NAME&gt;</code></td>
</tr>
</tbody>
</table>
<p>The relevant service for each node is as follows:</p>
<table>
<thead>
<tr>
<th align="left">Node</th>
<th align="left">Service</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Primary NameNode</td>
<td align="left">hadoop-hdfs-namenode</td>
</tr>
<tr>
<td align="left">Secondary NameNode</td>
<td align="left">hadoop-hdfs-secondarynamenode</td>
</tr>
<tr>
<td align="left">DataNode</td>
<td align="left">hadoop-hdfs-datanode</td>
</tr>
<tr>
<td align="left">GridFTP</td>
<td align="left">globus-gridftp-server</td>
</tr>
</tbody>
</table>
<h2 id="validation">Validation<a class="headerlink" href="#validation" title="Permanent link">&para;</a></h2>
<p>The first thing you may want to do after installing and starting your primary NameNode is to verify that the web interface works. In your web browser go to:</p>
<div class="codehilite"><pre><span></span>http://&lt;NAMENODE.HOSTNAME&gt;:50070/dfshealth.jsp
</pre></div>


<p>Change <code>&lt;NAMENODE.HOSTNAME&gt;</code> for the hostname of your Primary NameNode. Get familiar with Hadoop commands.
Run hadoop with no arguments to see the list of commands.</p>
<p><details>
  <summary>Show detailed ouput</summary>
   <p></p>
<div class="codehilite"><pre><span></span><span class="go">user$ hadoop</span>
<span class="go">Usage: hadoop [--config confdir] COMMAND</span>
<span class="go">where COMMAND is one of:</span>
<span class="go">  namenode -format     format the DFS filesystem</span>
<span class="go">  secondarynamenode    run the DFS secondary namenode</span>
<span class="go">  namenode             run the DFS namenode</span>
<span class="go">  datanode             run a DFS datanode</span>
<span class="go">  dfsadmin             run a DFS admin client</span>
<span class="go">  mradmin              run a Map-Reduce admin client</span>
<span class="go">  fsck                 run a DFS filesystem checking utility</span>
<span class="go">  fs                   run a generic filesystem user client</span>
<span class="go">  balancer             run a cluster balancing utility</span>
<span class="go">  fetchdt              fetch a delegation token from the NameNode</span>
<span class="go">  jobtracker           run the MapReduce job Tracker node</span>
<span class="go">  pipes                run a Pipes job</span>
<span class="go">  tasktracker          run a MapReduce task Tracker node</span>
<span class="go">  job                  manipulate MapReduce jobs</span>
<span class="go">  queue                get information regarding JobQueues</span>
<span class="go">  version              print the version</span>
<span class="go">  jar &lt;jar&gt;            run a jar file</span>
<span class="go">  distcp &lt;srcurl&gt; &lt;desturl&gt; copy file or directories recursively</span>
<span class="go">  archive -archiveName NAME -p &lt;parent path&gt; &lt;src&gt;* &lt;dest&gt; create a hadoop archive</span>
<span class="go">  oiv                  apply the offline fsimage viewer to an fsimage</span>
<span class="go">  classpath            prints the class path needed to get the</span>
<span class="go">                       Hadoop jar and the required libraries</span>
<span class="go">  daemonlog            get/set the log level for each daemon</span>
<span class="go"> or</span>
<span class="go">  CLASSNAME            run the class named CLASSNAME</span>
<span class="go">Most commands print help when invoked w/o parameters.</span>
</pre></div>


<p></p>
</details></p>
<p>For a list of supported filesystem commands:</p>
<p><details>
  <summary>Show 'hadoop fs' detailed ouput</summary>
   <p></p>
<div class="codehilite"><pre><span></span><span class="go">user$ hadoop fs</span>
<span class="go">Usage: java FsShell</span>
<span class="go">           [-ls &lt;path&gt;]</span>
<span class="go">           [-lsr &lt;path&gt;]</span>
<span class="go">           [-df [&lt;path&gt;]]</span>
<span class="go">           [-du &lt;path&gt;]</span>
<span class="go">           [-dus &lt;path&gt;]</span>
<span class="go">           [-count[-q] &lt;path&gt;]</span>
<span class="go">           [-mv &lt;src&gt; &lt;dst&gt;]</span>
<span class="go">           [-cp &lt;src&gt; &lt;dst&gt;]</span>
<span class="go">           [-rm [-skipTrash] &lt;path&gt;]</span>
<span class="go">           [-rmr [-skipTrash] &lt;path&gt;]</span>
<span class="go">           [-expunge]</span>
<span class="go">           [-put &lt;localsrc&gt; ... &lt;dst&gt;]</span>
<span class="go">           [-copyFromLocal &lt;localsrc&gt; ... &lt;dst&gt;]</span>
<span class="go">           [-moveFromLocal &lt;localsrc&gt; ... &lt;dst&gt;]</span>
<span class="go">           [-get [-ignoreCrc] [-crc] &lt;src&gt; &lt;localdst&gt;]</span>
<span class="go">           [-getmerge &lt;src&gt; &lt;localdst&gt; [addnl]]</span>
<span class="go">           [-cat &lt;src&gt;]</span>
<span class="go">           [-text &lt;src&gt;]</span>
<span class="go">           [-copyToLocal [-ignoreCrc] [-crc] &lt;src&gt; &lt;localdst&gt;]</span>
<span class="go">           [-moveToLocal [-crc] &lt;src&gt; &lt;localdst&gt;]</span>
<span class="go">           [-mkdir &lt;path&gt;]</span>
<span class="go">           [-setrep [-R] [-w] &lt;rep&gt; &lt;path/file&gt;]</span>
<span class="go">           [-touchz &lt;path&gt;]</span>
<span class="go">           [-test -[ezd] &lt;path&gt;]</span>
<span class="go">           [-stat [format] &lt;path&gt;]</span>
<span class="go">           [-tail [-f] &lt;file&gt;]</span>
<span class="go">           [-chmod [-R] &lt;MODE[,MODE]... | OCTALMODE&gt; PATH...]</span>
<span class="go">           [-chown [-R] [OWNER][:[GROUP]] PATH...]</span>
<span class="go">           [-chgrp [-R] GROUP PATH...]</span>
<span class="go">           [-help [cmd]]</span>

<span class="go">Generic options supported are</span>
<span class="go">-conf &lt;configuration file&gt;     specify an application configuration file</span>
<span class="go">-D &lt;property=value&gt;            use value for given property</span>
<span class="go">-fs &lt;local|namenode:port&gt;      specify a namenode</span>
<span class="go">-jt &lt;local|jobtracker:port&gt;    specify a job tracker</span>
<span class="go">-files &lt;comma separated list of files&gt;    specify comma separated files to be copied to the map reduce cluster</span>
<span class="go">-libjars &lt;comma separated list of jars&gt;    specify comma separated jar files to include in the classpath.</span>
<span class="go">-archives &lt;comma separated list of archives&gt;    specify comma separated archives to be unarchived on the compute machines.</span>

<span class="go">The general command line syntax is</span>
<span class="go">bin/hadoop command [genericOptions] [commandOptions]</span>
</pre></div>


<p></p>
</details></p>
<p>An online guide is also available at <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/CommandsManual.html">Apache Hadoop commands manual</a>. You can use Hadoop commands to perform filesystem operations with more consistency.</p>
<p>Example, to look into the internal hadoop namespace:</p>
<div class="codehilite"><pre><span></span><span class="go">user$ hadoop fs -ls /</span>
<span class="go">Found 1 items</span>
<span class="go">drwxrwxr-x   - engage engage          0 2011-07-25 06:32 /engage</span>
</pre></div>


<p>Example, to adjust ownership of filesystem areas (there is usually no need to specify the mount itself <code>/mnt/hadoop</code> in Hadoop commands):</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> hadoop fs -chown -R engage:engage /engage
</pre></div>


<p>Example, compare <code>hadoop fs</code> command vs. using FUSE mount:</p>
<div class="codehilite"><pre><span></span><span class="go">user$ hadoop fs -ls /engage</span>
<span class="go">Found 3 items</span>
<span class="go">-rw-rw-r--   2 engage engage  733669376 2011-06-15 16:55 /engage/CentOS-5.6-x86_64-LiveCD.iso</span>
<span class="go">-rw-rw-r--   2 engage engage  215387183 2011-06-15 16:28 /engage/condor-7.6.1-x86_rhap_5-stripped.tar.gz</span>
<span class="go">-rw-rw-r--   2 engage engage    9259360 2011-06-15 16:32 /engage/glideinWMS_v2_5_1.tgz</span>

<span class="go">user$ ls -l /mnt/hadoop/engage</span>
<span class="go">total 935855</span>
<span class="go">-rw-rw-r-- 1 engage engage 733669376 Jun 15 16:55 CentOS-5.6-x86_64-LiveCD.iso</span>
<span class="go">-rw-rw-r-- 1 engage engage 215387183 Jun 15 16:28 condor-7.6.1-x86_rhap_5-stripped.tar.gz</span>
<span class="go">-rw-rw-r-- 1 engage engage   9259360 Jun 15 16:32 glideinWMS_v2_5_1.tgz</span>
</pre></div>


<h3 id="gridftp-validation">GridFTP Validation<a class="headerlink" href="#gridftp-validation" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The commands used to verify GridFTP below assume you have access to a node where you can first generate a valid proxy using <code>voms-proxy-init</code> or <code>grid-proxy-init</code>. Obtaining grid credentials is beyond the scope of this document.</p>
</div>
<div class="codehilite"><pre><span></span><span class="go">user$ globus-url-copy file:///home/users/jdost/test.txt gsiftp://devg-7.t2.ucsd.edu:2811/mnt/hadoop/engage/test.txt</span>
</pre></div>


<p>If you are having troubles running GridFTP refer to <a href="#starting-gridftp-in-standalone-mode">Starting GridFTP in Standalone Mode</a> in the Troubleshooting section.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="hadoop">Hadoop<a class="headerlink" href="#hadoop" title="Permanent link">&para;</a></h3>
<p>To view all of the currently configured settings of Hadoop from the web interface, enter the following url in your browser:</p>
<div class="codehilite"><pre><span></span>http://&lt;NAMENODE.HOSTNAME&gt;:50070/conf
</pre></div>


<p>Change <code>&lt;NAMENODE.HOSTNAME&gt;</code> for the hostname of your Primary NameNode. You will see the entire configuration in XML
format, for example:</p>
<p><details>
  <summary>Expand XML configuration</summary>
    <p></p>
<div class="codehilite"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;configuration&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3n.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.s3native.NativeS3FileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.cache.levels&lt;/name&gt;&lt;value&gt;2&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;map.sort.class&lt;/name&gt;&lt;value&gt;org.apache.hadoop.util.QuickSort&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-site.xml--&gt;&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;&lt;value&gt;/data1/hadoop//scratch&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.native.lib&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.namenode.decommission.nodes.per.interval&lt;/name&gt;&lt;value&gt;5&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.https.need.client.auth&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.client.idlethreshold&lt;/name&gt;&lt;value&gt;4000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.system.dir&lt;/name&gt;&lt;value&gt;${hadoop.tmp.dir}/mapred/system&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.data.dir.perm&lt;/name&gt;&lt;value&gt;755&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.persist.jobstatus.hours&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.namenode.logging.level&lt;/name&gt;&lt;value&gt;all&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50010&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.skip.checksum.errors&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.block.access.token.enable&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from Unknown--&gt;&lt;name&gt;fs.default.name&lt;/name&gt;&lt;value&gt;hdfs://nagios.t2.ucsd.edu:9000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.child.tmp&lt;/name&gt;&lt;value&gt;./tmp&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.har.impl.disable.cache&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.skip.reduce.max.skip.groups&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.safemode.threshold.pct&lt;/name&gt;&lt;value&gt;0.999f&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.heartbeats.in.second&lt;/name&gt;&lt;value&gt;100&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.namenode.handler.count&lt;/name&gt;&lt;value&gt;40&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.blockreport.initialDelay&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.jobtracker.instrumentation&lt;/name&gt;&lt;value&gt;org.apache.hadoop.mapred.JobTrackerMetricsInst&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.dns.nameserver&lt;/name&gt;&lt;value&gt;default&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;io.sort.factor&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.timeout&lt;/name&gt;&lt;value&gt;600000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.max.tracker.failures&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.rpc.socket.factory.class.default&lt;/name&gt;&lt;value&gt;org.apache.hadoop.net.StandardSocketFactory&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.jobhistory.lru.cache.size&lt;/name&gt;&lt;value&gt;5&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.hdfs.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.hdfs.DistributedFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.skip.map.auto.incr.proc.count&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.block.access.key.update.interval&lt;/name&gt;&lt;value&gt;600&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.job.complete.cancel.delegation.tokens&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.mapfile.bloom.size&lt;/name&gt;&lt;value&gt;1048576&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.reduce.shuffle.connect.timeout&lt;/name&gt;&lt;value&gt;180000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.safemode.extension&lt;/name&gt;&lt;value&gt;30000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-site.xml--&gt;&lt;name&gt;tasktracker.http.threads&lt;/name&gt;&lt;value&gt;50&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.shuffle.merge.percent&lt;/name&gt;&lt;value&gt;0.66&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.ftp.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.ftp.FTPFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.output.compress&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-site.xml--&gt;&lt;name&gt;io.bytes.per.checksum&lt;/name&gt;&lt;value&gt;4096&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.healthChecker.script.timeout&lt;/name&gt;&lt;value&gt;600000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;topology.node.switch.mapping.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.net.ScriptBasedMapping&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.https.server.keystore.resource&lt;/name&gt;&lt;value&gt;ssl-server.xml&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.reduce.slowstart.completed.maps&lt;/name&gt;&lt;value&gt;0.05&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.reduce.max.attempts&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.ramfs.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.InMemoryFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.block.access.token.lifetime&lt;/name&gt;&lt;value&gt;600&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.skip.map.max.skip.records&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.name.edits.dir&lt;/name&gt;&lt;value&gt;${dfs.name.dir}&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.security.group.mapping&lt;/name&gt;&lt;value&gt;org.apache.hadoop.security.ShellBasedUnixGroupsMapping&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.persist.jobstatus.dir&lt;/name&gt;&lt;value&gt;/jobtracker/jobsInfo&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-site.xml--&gt;&lt;name&gt;hadoop.log.dir&lt;/name&gt;&lt;value&gt;/var/log/hadoop&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3.buffer.dir&lt;/name&gt;&lt;value&gt;${hadoop.tmp.dir}/s3&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.block.size&lt;/name&gt;&lt;value&gt;134217728&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;job.end.retry.attempts&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.file.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.LocalFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.output.compression.type&lt;/name&gt;&lt;value&gt;RECORD&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.local.dir.minspacestart&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.ipc.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50020&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.permissions&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;topology.script.number.args&lt;/name&gt;&lt;value&gt;100&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.mapfile.bloom.error.rate&lt;/name&gt;&lt;value&gt;0.005&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.max.tracker.blacklists&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.profile.maps&lt;/name&gt;&lt;value&gt;0-2&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.https.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50475&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-site.xml--&gt;&lt;name&gt;dfs.umaskmode&lt;/name&gt;&lt;value&gt;002&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.userlog.retain.hours&lt;/name&gt;&lt;value&gt;24&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.secondary.http.address&lt;/name&gt;&lt;value&gt;gratia-1:50090&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.replication.max&lt;/name&gt;&lt;value&gt;32&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.persist.jobstatus.active&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.security.authorization&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;local.cache.size&lt;/name&gt;&lt;value&gt;10737418240&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.min.split.size&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.namenode.delegation.token.renew-interval&lt;/name&gt;&lt;value&gt;86400000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-site.xml--&gt;&lt;name&gt;mapred.map.tasks&lt;/name&gt;&lt;value&gt;7919&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.child.java.opts&lt;/name&gt;&lt;value&gt;-Xmx200m&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.https.client.keystore.resource&lt;/name&gt;&lt;value&gt;ssl-client.xml&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from Unknown--&gt;&lt;name&gt;dfs.namenode.startup&lt;/name&gt;&lt;value&gt;REGULAR&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.queue.name&lt;/name&gt;&lt;value&gt;default&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.retiredjobs.cache.size&lt;/name&gt;&lt;value&gt;1000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.https.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50470&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.balance.bandwidthPerSec&lt;/name&gt;&lt;value&gt;2000000000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.server.listen.queue.size&lt;/name&gt;&lt;value&gt;128&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;job.end.retry.interval&lt;/name&gt;&lt;value&gt;30000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.inmem.merge.threshold&lt;/name&gt;&lt;value&gt;1000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.skip.attempts.to.start.skipping&lt;/name&gt;&lt;value&gt;2&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;fs.checkpoint.dir&lt;/name&gt;&lt;value&gt;/var/hadoop/checkpoint-a&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-site.xml--&gt;&lt;name&gt;mapred.reduce.tasks&lt;/name&gt;&lt;value&gt;1543&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.merge.recordsBeforeProgress&lt;/name&gt;&lt;value&gt;10000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.userlog.limit.kb&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;webinterface.private.actions&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.max.objects&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.shuffle.input.buffer.percent&lt;/name&gt;&lt;value&gt;0.70&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;io.sort.spill.percent&lt;/name&gt;&lt;value&gt;0.80&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.map.tasks.speculative.execution&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.util.hash.type&lt;/name&gt;&lt;value&gt;murmur&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.dns.nameserver&lt;/name&gt;&lt;value&gt;default&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.blockreport.intervalMsec&lt;/name&gt;&lt;value&gt;3600000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.map.max.attempts&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.job.acl-view-job&lt;/name&gt;&lt;value&gt; &lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.handler.count&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.client.block.write.retries&lt;/name&gt;&lt;value&gt;3&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.max.reduces.per.node&lt;/name&gt;&lt;value&gt;-1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.reduce.shuffle.read.timeout&lt;/name&gt;&lt;value&gt;180000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.expiry.interval&lt;/name&gt;&lt;value&gt;600000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.https.enable&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.jobtracker.maxtasks.per.job&lt;/name&gt;&lt;value&gt;-1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.jobtracker.job.history.block.size&lt;/name&gt;&lt;value&gt;3145728&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;keep.failed.task.files&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.failed.volumes.tolerated&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.profile.reduces&lt;/name&gt;&lt;value&gt;0-2&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.client.tcpnodelay&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.output.compression.codec&lt;/name&gt;&lt;value&gt;org.apache.hadoop.io.compress.DefaultCodec&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;io.map.index.skip&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.server.tcpnodelay&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.namenode.delegation.key.update-interval&lt;/name&gt;&lt;value&gt;86400000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.running.map.limit&lt;/name&gt;&lt;value&gt;-1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;jobclient.progress.monitor.poll.interval&lt;/name&gt;&lt;value&gt;1000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.default.chunk.view.size&lt;/name&gt;&lt;value&gt;32768&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.logfile.size&lt;/name&gt;&lt;value&gt;10000000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.reduce.tasks.speculative.execution&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.tasktracker.outofband.heartbeat&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3n.block.size&lt;/name&gt;&lt;value&gt;67108864&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.datanode.du.reserved&lt;/name&gt;&lt;value&gt;10000000000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.security.authentication&lt;/name&gt;&lt;value&gt;simple&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;fs.checkpoint.period&lt;/name&gt;&lt;value&gt;3600&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.running.reduce.limit&lt;/name&gt;&lt;value&gt;-1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.reuse.jvm.num.tasks&lt;/name&gt;&lt;value&gt;1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.web.ugi&lt;/name&gt;&lt;value&gt;webuser,webgroup&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.jobtracker.completeuserjobs.maximum&lt;/name&gt;&lt;value&gt;100&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.df.interval&lt;/name&gt;&lt;value&gt;60000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.tracker.task-controller&lt;/name&gt;&lt;value&gt;org.apache.hadoop.mapred.DefaultTaskController&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.data.dir&lt;/name&gt;&lt;value&gt;/data1/hadoop//data&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3.maxRetries&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.dns.interface&lt;/name&gt;&lt;value&gt;default&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.support.append&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.job.acl-modify-job&lt;/name&gt;&lt;value&gt; &lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.local.dir&lt;/name&gt;&lt;value&gt;${hadoop.tmp.dir}/mapred/local&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.hftp.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.hdfs.HftpFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.permissions.supergroup&lt;/name&gt;&lt;value&gt;root&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.trash.interval&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3.sleepTimeSeconds&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.submit.replication&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.replication.min&lt;/name&gt;&lt;value&gt;1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.har.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.HarFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.map.output.compression.codec&lt;/name&gt;&lt;value&gt;org.apache.hadoop.io.compress.DefaultCodec&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.dns.interface&lt;/name&gt;&lt;value&gt;default&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.namenode.decommission.interval&lt;/name&gt;&lt;value&gt;30&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from Unknown--&gt;&lt;name&gt;dfs.http.address&lt;/name&gt;&lt;value&gt;nagios:50070&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-site.xml--&gt;&lt;name&gt;mapred.job.tracker&lt;/name&gt;&lt;value&gt;nagios:9000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.heartbeat.interval&lt;/name&gt;&lt;value&gt;3&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.seqfile.sorter.recordlimit&lt;/name&gt;&lt;value&gt;1000000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.name.dir&lt;/name&gt;&lt;value&gt;${hadoop.tmp.dir}/dfs/name&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.line.input.format.linespermap&lt;/name&gt;&lt;value&gt;1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.jobtracker.taskScheduler&lt;/name&gt;&lt;value&gt;org.apache.hadoop.mapred.JobQueueTaskScheduler&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.instrumentation&lt;/name&gt;&lt;value&gt;org.apache.hadoop.mapred.TaskTrackerMetricsInst&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.datanode.http.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50075&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;jobclient.completion.poll.interval&lt;/name&gt;&lt;value&gt;5000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.max.maps.per.node&lt;/name&gt;&lt;value&gt;-1&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.local.dir.minspacekill&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.replication.interval&lt;/name&gt;&lt;value&gt;3&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;io.sort.record.percent&lt;/name&gt;&lt;value&gt;0.05&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.kfs.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.kfs.KosmosFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.temp.dir&lt;/name&gt;&lt;value&gt;${hadoop.tmp.dir}/mapred/temp&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-site.xml--&gt;&lt;name&gt;mapred.tasktracker.reduce.tasks.maximum&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.replication&lt;/name&gt;&lt;value&gt;2&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.checkpoint.edits.dir&lt;/name&gt;&lt;value&gt;${fs.checkpoint.dir}&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.tasks.sleeptime-before-sigkill&lt;/name&gt;&lt;value&gt;5000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.reduce.input.buffer.percent&lt;/name&gt;&lt;value&gt;0.0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.indexcache.mb&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.job.split.metainfo.maxsize&lt;/name&gt;&lt;value&gt;10000000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.skip.reduce.auto.incr.proc.count&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;hadoop.logfile.count&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.automatic.close&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.seqfile.compress.blocksize&lt;/name&gt;&lt;value&gt;1000000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.hosts.exclude&lt;/name&gt;&lt;value&gt;/etc/hadoop-0.20/conf/hosts_exclude&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3.block.size&lt;/name&gt;&lt;value&gt;67108864&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.tasktracker.taskmemorymanager.monitoring-interval&lt;/name&gt;&lt;value&gt;5000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.acls.enabled&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapreduce.jobtracker.staging.root.dir&lt;/name&gt;&lt;value&gt;${hadoop.tmp.dir}/mapred/staging&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.queue.names&lt;/name&gt;&lt;value&gt;default&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.access.time.precision&lt;/name&gt;&lt;value&gt;3600000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.hsftp.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.hdfs.HsftpFileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.tracker.http.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50060&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.reduce.parallel.copies&lt;/name&gt;&lt;value&gt;5&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.seqfile.lazydecompress&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.safemode.min.datanodes&lt;/name&gt;&lt;value&gt;0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;io.sort.mb&lt;/name&gt;&lt;value&gt;100&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.client.connection.maxidletime&lt;/name&gt;&lt;value&gt;10000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.compress.map.output&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.tracker.report.address&lt;/name&gt;&lt;value&gt;127.0.0.1:0&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.healthChecker.interval&lt;/name&gt;&lt;value&gt;60000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.client.kill.max&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;ipc.client.connect.max.retries&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.s3.impl&lt;/name&gt;&lt;value&gt;org.apache.hadoop.fs.s3.S3FileSystem&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.job.tracker.http.address&lt;/name&gt;&lt;value&gt;0.0.0.0:50030&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.file.buffer.size&lt;/name&gt;&lt;value&gt;4096&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.jobtracker.restart.recover&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.serializations&lt;/name&gt;&lt;value&gt;org.apache.hadoop.io.serializer.WritableSerialization&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.task.profile&lt;/name&gt;&lt;value&gt;false&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-site.xml--&gt;&lt;name&gt;dfs.datanode.handler.count&lt;/name&gt;&lt;value&gt;10&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;mapred.reduce.copy.backoff&lt;/name&gt;&lt;value&gt;300&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.replication.considerLoad&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-default.xml--&gt;&lt;name&gt;jobclient.output.filter&lt;/name&gt;&lt;value&gt;FAILED&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from hdfs-default.xml--&gt;&lt;name&gt;dfs.namenode.delegation.token.max-lifetime&lt;/name&gt;&lt;value&gt;604800000&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from mapred-site.xml--&gt;&lt;name&gt;mapred.tasktracker.map.tasks.maximum&lt;/name&gt;&lt;value&gt;4&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;io.compression.codecs&lt;/name&gt;&lt;value&gt;org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec&lt;/value&gt;&lt;/property&gt;
&lt;property&gt;&lt;!--Loaded from core-default.xml--&gt;&lt;name&gt;fs.checkpoint.size&lt;/name&gt;&lt;value&gt;67108864&lt;/value&gt;&lt;/property&gt;
&lt;/configuration&gt;
</pre></div>


<p></p>
</details></p>
<p>Please refer to the <a href="https://hadoop.apache.org/docs/r2.6.0/">Apache Hadoop documentation</a> for answers to common questions/concerns</p>
<h3 id="fuse">FUSE<a class="headerlink" href="#fuse" title="Permanent link">&para;</a></h3>
<h4 id="notes-on-building-a-fuse-module">Notes on Building a FUSE Module<a class="headerlink" href="#notes-on-building-a-fuse-module" title="Permanent link">&para;</a></h4>
<p>If you are running a custom kernel, then be sure to enable the <code>fuse</code> module with <code>CONFIG_FUSE_FS=m</code> in your kernel config. Building and installing a <code>fuse</code> kernel module for your custom kernel is beyond the scope of this document.</p>
<h4 id="running-fuse-in-debug-mode">Running FUSE in Debug Mode<a class="headerlink" href="#running-fuse-in-debug-mode" title="Permanent link">&para;</a></h4>
<p>To start the FUSE mount in debug mode, you can run the FUSE mount command by hand:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span>  /usr/bin/hadoop-fuse-dfs  /mnt/hadoop -o rw,server<span class="o">=</span>&lt;NAMENODE.HOST&gt;,port<span class="o">=</span><span class="m">9000</span>,rdbuffer<span class="o">=</span><span class="m">131072</span>,allow_other -d
</pre></div>


<p>Change <code>&lt;NAMENODE.HOSTNAME&gt;</code> for the hostname of your Primary NameNode. Debug output will be printed to stderr, which
you will probably want to redirect to a file. Most FUSE-related problems can be tackled by reading through the stderr and looking for error messages.</p>
<h4 id="gridftp">GridFTP<a class="headerlink" href="#gridftp" title="Permanent link">&para;</a></h4>
<h4 id="starting-gridftp-in-standalone-mode">Starting GridFTP in Standalone Mode<a class="headerlink" href="#starting-gridftp-in-standalone-mode" title="Permanent link">&para;</a></h4>
<p>If you would like to test the gridftp-hdfs server in a debug standalone mode, you can run the command:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> gridftp-hdfs-standalone
</pre></div>


<p>The standalone server runs on port 5002, handles a single GridFTP request, and will log output to stdout/stderr.</p>
<h3 id="file-locations">File Locations<a class="headerlink" href="#file-locations" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>File Type</th>
<th>Location</th>
<th>Needs editing?</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hadoop</td>
<td>Log files</td>
<td><code>/var/log/hadoop/*</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>PID files</td>
<td><code>/var/run/hadoop/*.pid</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>init scripts</td>
<td><code>/etc/init.d/hadoop</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>init script config file</td>
<td><code>/etc/sysconfig/hadoop</code></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td>runtime config files</td>
<td><code>/etc/hadoop/conf/*</code></td>
<td>Maybe</td>
</tr>
<tr>
<td></td>
<td>System binaries</td>
<td><code>/usr/bin/hadoop</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>JARs</td>
<td><code>/usr/lib/hadoop/*</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>runtime config files</td>
<td><code>/etc/hosts_exclude</code></td>
<td>Yes, must be present on NameNodes</td>
</tr>
<tr>
<td></td>
<td>Log files</td>
<td><code>/var/log/gridftp-auth.log</code>, <code>/var/log/gridftp.log</code></td>
<td>No</td>
</tr>
<tr>
<td>GridFTP</td>
<td>Transfer log</td>
<td><code>/var/log/gridftp.log</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>Authentication log</td>
<td><code>/var/log/gridftp-auth.log</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>LCMAPS auth error log</td>
<td><code>/var/log/messages</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>init.d script</td>
<td><code>/etc/init.d/globus-gridftp-server</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>runtime config files</td>
<td><code>/etc/gridftp-hdfs/*</code>, <code>/etc/sysconfig/gridftp-hdfs</code></td>
<td>Maybe</td>
</tr>
<tr>
<td></td>
<td>System binaries</td>
<td><code>/usr/bin/gridftp-hdfs-standalone</code>, <code>/usr/sbin/globus-gridftp-server</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>System libraries</td>
<td><code>/usr/lib64/libglobus_gridftp_server_hdfs.so*</code></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td>LCMAPS VOMS configuration</td>
<td><code>/etc/lcmaps.db</code></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td>CA certificates</td>
<td><code>/etc/grid-security/certificates/*</code></td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="known-issues">Known Issues<a class="headerlink" href="#known-issues" title="Permanent link">&para;</a></h3>
<h4 id="replicas">Replicas<a class="headerlink" href="#replicas" title="Permanent link">&para;</a></h4>
<p>You may need to change the following line in <code>/usr/share/gridftp-hdfs/gridftp-hdfs-environment</code>:</p>
<div class="codehilite"><pre><span></span>export GRIDFTP_HDFS_REPLICAS=2
</pre></div>


<h4 id="copyfromlocal-java-ioexception">copyFromLocal java IOException<a class="headerlink" href="#copyfromlocal-java-ioexception" title="Permanent link">&para;</a></h4>
<p>When trying to copy a local file into Hadoop you may come across the following java exception:</p>
<p><details>
  <summary>Show detailed java exception</summary>
    <p></p>
<div class="codehilite"><pre><span></span><span class="go">11/06/24 11:10:50 WARN hdfs.DFSClient: Error Recovery for block null bad datanode[0]</span>
<span class="go">nodes == null</span>
<span class="go">11/06/24 11:10:50 WARN hdfs.DFSClient: Could not get block locations. Source file</span>
<span class="go">&quot;/osg/ddd&quot; - Aborting...</span>
<span class="go">copyFromLocal: java.io.IOException: File /osg/ddd could only be replicated to 0</span>
<span class="go">nodes, instead of 1</span>
<span class="go">11/06/24 11:10:50 ERROR hdfs.DFSClient: Exception closing file /osg/ddd :</span>
<span class="go">org.apache.hadoop.ipc.RemoteException: java.io.IOException: File /osg/ddd could only</span>
<span class="go">be replicated to 0 nodes, instead of 1</span>
<span class="go">        at</span>
<span class="go">org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1415)</span>
<span class="go">        at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:588)</span>
<span class="go">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span>
<span class="go">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</span>
<span class="go">        at</span>
<span class="go">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</span>
<span class="go">        at java.lang.reflect.Method.invoke(Method.java:597)</span>
<span class="go">        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:528)</span>
<span class="go">        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1319)</span>
<span class="go">        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1315)</span>
<span class="go">        at java.security.AccessController.doPrivileged(Native Method)</span>
<span class="go">        at javax.security.auth.Subject.doAs(Subject.java:396)</span>
<span class="go">        at</span>
<span class="go">org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1063)</span>
<span class="go">        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1313)</span>
</pre></div>


<p></p>
</details></p>
<p>This can occur if you try to install a DataNode on a machine with less than 10GB of disk space available. This can be changed by lowering the value of the following property in <code>/usr/lib/hadoop-0.20/conf/hdfs-site.xml</code>:</p>
<div class="codehilite"><pre><span></span>&lt;property&gt;
  &lt;name&gt;dfs.datanode.du.reserved&lt;/name&gt;
  &lt;value&gt;10000000000&lt;/value&gt;
&lt;/property&gt;
</pre></div>


<p>Hadoop always requires this amount of disk space to be available for non-hdfs usage on the machine.</p>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<p>To get assistance, please use the <a href="../../common/help">this page</a>.</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="http://www.iop.org/EJ/article/1742-6596/180/1/012047/jpconf9_180_012047.pdf">Using Hadoop as a Grid Storage Element</a>, <em>Journal of Physics Conference Series, 2009</em>.</li>
<li><a href="http://osg-docdb.opensciencegrid.org/0009/000911/001/Hadoop.pdf">Hadoop Distributed File System for the Grid</a>, <em>IEEE Nuclear Science Symposium, 2009</em>.</li>
</ul>
<h3 id="users">Users<a class="headerlink" href="#users" title="Permanent link">&para;</a></h3>
<p>This installation will create following users unless they are already created.</p>
<table>
<thead>
<tr>
<th align="left">User</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>hadoop</code></td>
<td align="left">Runs the NameNode services</td>
</tr>
<tr>
<td align="left"><code>hdfs</code></td>
<td align="left">Used by Hadoop to store data blocks and meta-data</td>
</tr>
<tr>
<td align="left"><code>mapred</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>zookeeper</code></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>For this package to function correctly, you will have to create the users needed for grid operation. Any user that can be authenticated should be created.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        

<div class="md-footer-nav">
  <nav class="md-footer-nav__inner md-grid">
    
    <a href="../hadoop-overview/" title="HDFS Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
      <div class="md-flex__cell md-flex__cell--shrink">
        <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
        <span class="md-flex__ellipsis">
          <span class="md-footer-nav__direction">
            Previous
          </span>
          HDFS Overview
        </span>
      </div>
    </a>
    
    
    <a href="../../submit/osg-flock/" title="Flock to OSG" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
        <span class="md-flex__ellipsis">
          <span class="md-footer-nav__direction">
            Next
          </span>
          Flock to OSG
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
      </div>
    </a>
    
  </nav>
</div>

<div class="md-footer-meta md-typeset">
  <div class="md-footer-meta__inner md-grid">
    <div class="md-footer-copyright">
      
      This material is based upon work supported by the
      <a href="https://nsf.gov">National Science Foundation</a>
      under Grant Nos.
      <a href=https://www.nsf.gov/awardsearch/showAward?AWD_ID=1148698>1148698</a>
      and
      <a href=https://www.nsf.gov/awardsearch/showAward?AWD_ID=1836650>1836650</a>
      . Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
    </div>
    
    
    
  </div>
</div>

      
    </div>
    
      <script src="../../assets/javascripts/application.30f6b8b1.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>